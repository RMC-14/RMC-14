using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface.CustomControls;
using Robust.Client.UserInterface.XAML;
using Robust.Client.Graphics;
using Robust.Shared.Utility;

namespace Content.Client._RMC14.Xenonids.Evolution
{
	[GenerateTypedNameReferences]
    public sealed partial class XenoStrainConfirmWindow : DefaultWindow
    {
        public event System.Action? OnConfirm;

        public XenoStrainConfirmWindow()
        {
            RobustXamlLoader.Load(this);

            ConfirmButton.OnPressed += _ => OnConfirm?.Invoke();
        }

        public void SetInfo(string name, Texture? sprite, string? description)
        {
            NameLabel.Text = name;
            Sprite.Texture = sprite;

            if (description != null)
            {
                DescriptionLabel.SetMessage(
                    FormattedMessage.FromMarkupPermissive(Loc.GetString(description))
                );
            }
        }
    }
}
