using Robust.Client.UserInterface.CustomControls;
using Robust.Client.UserInterface.XAML;
using Robust.Client.AutoGenerated;

namespace Content.Client._RMC14.Armor;

[GenerateTypedNameReferences]
public sealed partial class ArmorAdjustWindow : DefaultWindow
{
    public event Action<string>? OnMeleeChanged;
    public event Action<string>? OnBulletChanged;
    public event Action<string>? OnBioChanged;
    public event Action<string>? OnExplosionChanged;

    public ArmorAdjustWindow()
    {
        RobustXamlLoader.Load(this);

        MeleeLineEdit.OnTextEntered += e => OnMeleeChanged?.Invoke(e.Text);
        MeleeLineEdit.OnFocusExit += e => OnMeleeChanged?.Invoke(e.Text);

        BulletLineEdit.OnTextEntered += e => OnBulletChanged?.Invoke(e.Text);
        BulletLineEdit.OnFocusExit += e => OnBulletChanged?.Invoke(e.Text);

        BioLineEdit.OnTextEntered += e => OnBioChanged?.Invoke(e.Text);
        BioLineEdit.OnFocusExit += e => OnBioChanged?.Invoke(e.Text);

        ExplosionLineEdit.OnTextEntered += e => OnExplosionChanged?.Invoke(e.Text);
        ExplosionLineEdit.OnFocusExit += e => OnExplosionChanged?.Invoke(e.Text);
    }

    public void SetBullet(string value) => BulletLineEdit.Text = value;
    public void SetMelee(string value) => MeleeLineEdit.Text = value;

    public void SetBio(string value) => BioLineEdit.Text = value;
    public void SetExplosion(string value) => ExplosionLineEdit.Text = value;
}
