using System.Linq;
using System.Numerics;
using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface.Controls;
using Robust.Client.UserInterface.CustomControls;
using Robust.Client.UserInterface.XAML;
using Robust.Shared.Maths;

namespace Content.Client._RMC14.Construction;

[GenerateTypedNameReferences]
public sealed partial class RMCConstructionWindow : DefaultWindow
{
    public event Action? ClearGhostsPressed;

    public RMCConstructionWindow()
    {
        RobustXamlLoader.Load(this);
        ClearGhostsButton.OnPressed += _ => ClearGhostsPressed?.Invoke();
        CloseWindowButton.OnPressed += _ => Close();

        WindowHeader.Visible = false;
        WindowHeader.MinSize = Vector2.Zero;
        ContentsContainer.Margin = new Thickness(0);

        if (Children.FirstOrDefault(child => child.StyleClasses.Contains(StyleClassWindowPanel)) is { } panel)
            RemoveChild(panel);
    }
}
