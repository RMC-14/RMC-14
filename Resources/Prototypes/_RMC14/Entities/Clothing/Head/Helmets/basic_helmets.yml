# base
- type: entity
  parent: ClothingHeadBase
  id: RMCHelmetBase
  abstract: true
  name: helmet
  components:
  - type: Item
    size: Normal
    storedRotation: 0
  - type: Storage #hopefully in the future someone smarter than me can add storage(?) for integrated things like netting, HUD, etc. but for now this is for hiding snacks
    maxItemSize: Tiny
    grid:
    - 0,0,7,1 # 4 slots, 2 reserved for helmet accessories
    blacklist:
      tags:
      - Pouch
  - type: LimitedStorage
    limits:
    - popup: rmc-storage-limit-cant-fit
      count: 2
      whitelist:
        components:
        - RMCLighter
        - RMCFlask
        - CMScalpel
        - Figurine
        - Matchbox
        tags:
        - CigPack
        - Cigarette
#       - TODO RMC14 cards
        - Slice
#       - TODO RMC14 glasses (eyewear)
#       - TODO RMC14 walkman and casettes
        - Pen
        - Crayon
        - RMCHandful
        - Flashlight
        - Brutepack
        - CMOintment
        - CMAutoInjector
        - PillPacket
    - popup: rmc-storage-limit-accessories
      count: 2
      whitelist:
        components:
        - HelmetAccessory
  - type: ContainerContainer
    containers:
      storagebase: !type:Container
        ents: [ ]
  - type: UserInterface
    interfaces:
      enum.StorageUiKey.Key:
        type: StorageBoundUserInterface
  - type: CMHardArmor
  - type: RMCNameItemOnVend
    item: Helmet
  - type: ExplosionResistance
    damageCoefficient: 0
    worn: false
  - type: IgnoreContentsSize
    items:
      components:
      - RMCLighter
      - RMCFlask
      - CMScalpel
      - Figurine
      - Matchbox
      - HelmetAccessory
      tags:
      - CigPack
      - Cigarette
#      - TODO RMC14 cards
      - Slice
#      - TODO RMC14 glasses (eyewear)
#      - TODO RMC14 walkman and casettes
      - Pen
      - Crayon
      - RMCHandful
      - Flashlight
      - Brutepack
      - CMOintment
      - CMAutoInjector
      - PillPacket
  - type: FixedItemSizeStorage
  - type: InteractedBlacklist
    blacklist:
      components:
      - Xeno
  - type: Appearance
  - type: HelmetAccessoryHolder

- type: entity
  parent: RMCHelmetBase
  id: RMCMarineHelmetBase
  abstract: true
  components:
  - type: CMArmor
    armor: 20
    explosionArmor: 10
  - type: RMCBulkyArmor
  - type: OverwatchCamera
  - type: SquadArmor
    layer: Helmet
    slot: HEAD
    rsi:
      sprite: _RMC14/Objects/Clothing/Head/Helmets/helmet_overlays.rsi
      state: std-helmet
    leaderRsi:
      sprite: _RMC14/Objects/Clothing/Head/Helmets/helmet_overlays.rsi
      state: sql-helmet
  - type: CycleableVisor

- type: entity
  id: RMCFoldableHelmetBase
  abstract: true
  components:
  - type: Foldable
    unfoldVerbText : "rmc-untuck"
    foldVerbText: "rmc-tuck"
    canFoldInsideContainer: true
  - type: FoldableClothing
    foldedHideLayers:
    - Hair
    - HeadTop
    - HeadSide
    unfoldedHideLayers: []
  - type: HideLayerClothing

# riot
- type: entity
  parent: [RMCHelmetBase, RMCFoldableHelmetBase]
  id: ArmorHelmetRiot
  name: riot helmet
  description: It's a helmet specifically designed to protect against close range attacks. It covers your ears.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Clothing/Head/Helmets/riot.rsi
  - type: Clothing
    sprite: _RMC14/Objects/Clothing/Head/Helmets/riot.rsi
  - type: CMArmor
    armor: 20 # 30 melee, 10 bullet
    explosionArmor: 0
  - type: CMHardArmor

- type: entity
  parent: ArmorHelmetRiot
  id: ArmorHelmetRiotOld
  description: BA scarred riot helmet covered in cobwebs. It still protects your ears.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Clothing/Head/Helmets/old_riot.rsi
    layers:
    - state: icon
  - type: Clothing
    sprite: _RMC14/Objects/Clothing/Head/Helmets/old_riot.rsi
    equipDelay: 2
    unequipDelay: 2
