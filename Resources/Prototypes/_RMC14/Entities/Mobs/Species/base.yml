- type: entity
  save: false
  parent: BaseMobSpecies
  id: CMBaseMobSpeciesOrganic
  abstract: true
  name: Urist C.M. McHands
  suffix: RMC14
  components:
  - type: Fixtures
    fixtures:
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 185
        restitution: 0.0
        mask:
        - MobMask
        - BarricadeImpassable
        - BarbedBarricade
        layer:
        - Opaque
        - XenoProjectileImpassable
      fix2:
        shape:
          !type:PhysShapeCircle
          radius: 0.25
        density: 0
        restitution: 0.0
        layer:
        - BulletImpassable
  - type: SolutionContainerManager
  - type: InjectableSolution
    solution: chemicals
  - type: RMCStamina
  - type: Bloodstream
    bloodReagent: Blood
    bloodMaxVolume: 560
    maxBleedAmount: 50
    bleedReductionAmount: 0
    bloodRefreshAmount: 0.15
    bloodlossDamage:
      types:
        Bloodloss: 0.5
    bloodlossHealDamage:
      types:
        Bloodloss: -1
    damageBleedModifiers: CMBloodlossHuman
  - type: Woundable
  - type: StatusEffects
    allowed:
    - Stun
    - KnockedDown
    - PainKnockOut
    - SlowedDown
    - Stutter
    - Electrocution
    - ForcedSleep
    - TemporaryBlindness
    - Drunk
    - SlurredSpeech
    - RatvarianLanguage
    - PressureImmunity
    - Muted
    - Pacified
    - StaminaModifier
    - Flashed
    - Dazed
    - Blinded
    - PainAsphyxationDisabled
    - Deaf
    - Unconscious
  - type: InteractionPopup
    successChance: 1
    interactSuccessString: rmc-patting-success-generic
    messagePerceivedByOthers: rmc-patting-success-generic-others
  - type: Blindable
  - type: Tag
    tags:
    - CanPilot
    - FootstepSound
    - DoorBumpOpener
  - type: Marine
  - type: RMCSuitLight
  - type: HolocardState
  - type: Hunger
    baseDecayRate: 0.025
    thresholds:
      Overfed: 550
      Okay: 400
      Peckish: 250
      Starving: 50
      Dead: 0
    hungerThresholdDecayModifiers:
      Overfed: 1
      Okay: 1
      Peckish: 1
      Starving: 1
      Dead: 0
  - type: Thirst
    baseDecayRate: 0.01666666666
  - type: SlowOnDamage # nullify from BaseMobSpecies
    speedModifierThresholds:
      0: 1
  - type: Pain
    painLevels:
    - threshold: 0
      levelEffects: []
    - threshold: 20
      levelEffects:
      - !type:MovespeedModifier
        walkSpeedModifier: 0.79
        sprintSpeedModifier: 0.67
      - !type:PopupMessage
        type: Local
        messages: [ "rmc-pain-mild-inner" ]
        probability: 0.1
    - threshold: 30
      levelEffects:
      - !type:MovespeedModifier
        walkSpeedModifier: 0.71
        sprintSpeedModifier: 0.67
      - !type:PopupMessage
        type: Local
        messages: [ "rmc-pain-discomforting-inner" ]
        probability: 0.1
    - threshold: 40
      levelEffects:
      - !type:MovespeedModifier
        walkSpeedModifier: 0.57
        sprintSpeedModifier: 0.42
      - !type:PopupMessage
        type: Local
        messages: [ "rmc-pain-moderate-inner" ]
        probability: 0.1
    - threshold: 60
      levelEffects:
      - !type:MovespeedModifier
        walkSpeedModifier: 0.5
        sprintSpeedModifier: 0.35
      - !type:TemporaryBlurryVision
        blur: 2
        time: 4
      - !type:GenericStatusEffect
        key: Stutter
        component: StutteringAccent
        time: 4
      - !type:PopupMessage
        type: Local
        messages: [ "rmc-pain-distressing-inner" ]
        probability: 0.1
      - !type:Emote
        emote: PainGrimace
        showInChat: true
        probability: 0.033
    - threshold: 75
      levelEffects:
      - !type:MovespeedModifier
        walkSpeedModifier: 0.45
        sprintSpeedModifier: 0.31
      - !type:TemporaryBlurryVision
          blur: 2
          time: 4
      - !type:GenericStatusEffect
          key: Stutter
          component: StutteringAccent
          time: 4
      - !type:GenericStatusEffect # substitution of do once in 13
        key: PainKnockOut
        component: PainKnockOut
        probability: 0.01 # this is around 45% chance per minute 1-(1-0.01)^60
        time: 6
      - !type:HealthChange
        damage:
         types:
            Asphyxiation: 0.1
        conditions:
        - !type:HasStatusEffect
          key: PainAsphyxationDisabled
          reversed: true
      - !type:PopupMessage
        type: Local
        messages: [ "rmc-pain-severe-inner" ]
        probability: 0.1
      - !type:Emote
        emote: TroubleEyeOpen
        showInChat: true
        probability: 0.033
    - threshold: 85
      levelEffects:
      - !type:MovespeedModifier
        walkSpeedModifier: 0.45
        sprintSpeedModifier: 0.31
      - !type:GenericStatusEffect
          key: Stutter
          component: StutteringAccent
          time: 4
      - !type:GenericStatusEffect
          key: PainKnockOut
          component: PainKnockOut
          time: 4
      - !type:TemporaryBlurryVision
          blur: 2
          time: 4
      - !type:HealthChange
        damage:
          types:
            Asphyxiation: 0.5
        conditions:
        - !type:HasStatusEffect
          key: PainAsphyxationDisabled
          reversed: true
      - !type:PopupMessage
        type: Local
        messages: [ "rmc-pain-horrible-inner" ]
        probability: 0.1
      - !type:Emote
        emote: TroubleStanding
        showInChat: true
        probability: 0.033
  - type: Body
    prototype: Human
    requiredLegs: 2
  - type: Damageable
    damageContainer: Biological
    damageModifierSet: null
    healthBarThreshold: 5
  - type: Vocal
    sounds:
      Male: MaleHuman
      Female: FemaleHuman
      Unsexed: MaleHuman
  - type: Flammable
    fireSpread: false
    canResistFire: true
    firestackFade: 1
    damage:
      types:
        Heat: 1
  - type: RMCRevivable
  - type: RMCMedicalExamine
  - type: FireVisuals
    sprite: Mobs/Effects/onfire.rsi
    normalState: Generic_mob_burning
    alternateState: Standing
  - type: MeleeWeapon
    soundHit:
      collection: Punch
    angle: 0
    animation: WeaponArcFist
    attackRate: 1
    damage:
      types:
        Blunt: 5
  - type: CMSurgeryTarget
  - type: UserInterface
    interfaces:
      enum.VoiceMaskUIKey.Key:
        type: VoiceMaskBoundUserInterface
      enum.HumanoidMarkingModifierKey.Key:
        type: HumanoidMarkingModifierBoundUserInterface
      enum.StrippingUiKey.Key:
        type: StrippableBoundUserInterface
      enum.CMSurgeryUIKey.Key:
        type: CMSurgeryBui
      enum.HolocardChangeUIKey.Key:
        type: HolocardChangeBoundUserInterface
        interactionRange: 0
        requireInputValidation: false
      enum.CMMobStateActionsUI.Key:
        type: CMGhostActionBui
        requireInputValidation: false
      enum.TacticalMapUserUi.Key:
        type: TacticalMapUserBui
      enum.SquadLeaderTrackerUI.Key:
        type: SquadInfoBui
      enum.DialogUiKey.Key:
        type: DialogBui
      enum.ViewIntelObjectivesUI.Key:
        type: ViewIntelObjectivesBui
  - type: Infectable
  - type: Tackleable
  - type: XenoNestable
  - type: Devourable
  - type: ImmuneToClothingRequiredStepTrigger
  - type: Undisposable
  - type: ShortExamine
  - type: MaxDamage
    max: 719 # TODO RMC14 this should be per part and smaller
  - type: AtmosExposed
  - type: Temperature
    heatDamageThreshold: 325
    coldDamageThreshold: 260
    currentTemperature: 310.15
    specificHeat: 42
  - type: TemperatureSpeed
    thresholds:
      273: 1
  - type: ThermalRegulator
    metabolismHeat: 800
    radiatedHeat: 100
    implicitHeatRegulation: 500
    sweatHeatRegulation: 2000
    shiveringHeatRegulation: 2000
    normalBodyTemperature: 310.15
    thermalRegulationTemperatureThreshold: 25
  - type: DamageMobState
    critDamage:
      types:
        Asphyxiation: 1
    nonDeadDamage:
      types:
        Asphyxiation: -0.33
  - type: NoSlip
  - type: NoClothingSlowdown
  - type: RMCSize
    size: Humanoid
  - type: AffectableByWeeds
  - type: UserIFF
  - type: UserLimitHits
  - type: MovementIgnoreGravity
  - type: MovementSpeedModifier
    baseWalkSpeed: 2.7
    baseSprintSpeed: 5
  - type: SlowOnPull
    slowdowns:
    - multiplier: 0.745
      whitelist:
        components:
        - Marine
    - multiplier: 0.855
      whitelist:
        components:
        - XenoLight
    - multiplier: 0.5775
      whitelist:
        components:
        - XenoHeavy
    - multiplier: 0.645
      whitelist:
        tags:
        - BodyBag
    - multiplier: 0.645
      whitelist:
        components:
        - RequisitionsCrate #Lockers/Crates
  - type: MobThresholds
    thresholds:
      0: Alive
      150: Critical
      200: Dead
    stateAlertDict:
      Alive: HumanoidPainHealth
      Critical: HumanCrit
      Dead: HumanDead
  - type: MobStateActions
    actions:
      Critical:
      - CMActionGhost
      Dead:
      - CMActionGhost
  - type: Destructible
    thresholds: [ ]
  - type: NpcFactionMember
    factions:
    - UNMC
  - type: RMCNightVisionVisible
  - type: CrashLandable
  - type: StunShakeable
  - type: StunShakeableUser
  - type: MindCheck
  - type: GenericVisualizer
    visuals:
      enum.CreamPiedVisuals.Creamed:
        clownedon:
          True: { visible: true }
          False: { visible: false }
      enum.UserAcidedVisuals.Acided:
        acided:
          None:
            visible: false
          Normal:
            sprite: _RMC14/Effects/xeno_spray_acid.rsi
            state: human_acid
            visible: true
          Enhanced:
            sprite: _RMC14/Effects/xeno_spray_acid.rsi
            state: human_acid_enhanced
            visible: true
      enum.HookedVisuals.Hooked:
        hooked:
          True: { visible: true }
          False: { visible: false }
      enum.TargetedVisuals.Targeted:
        targeted:
          None:
            visible: false
          Spotted:
            sprite: _RMC14/Effects/targeted.rsi
            state: spotter_lockon
            visible: true
          Targeted:
            sprite: _RMC14/Effects/targeted.rsi
            state: sniper_lockon
            visible: true
          TargetedIntense:
            sprite: _RMC14/Effects/targeted.rsi
            state: sniper_lockon_intense
            visible: true
      enum.TargetedVisuals.TargetedDirection:
        targetedDirection:
          True: { visible: true}
          False: { visible: false}
      enum.TargetedVisuals.TargetedDirectionIntense:
        targetedDirectionIntense:
          True: { visible: true }
          False: { visible: false }
      enum.FocusedVisuals.Focused:
        focused:
          True: { visible: true }
          False: { visible: false }
  - type: Spottable
  - type: ActiveInputMover
  - type: DropItemsOnRest
  - type: UserBlockShootingInsideContainers
  - type: TacticalMapTracked
    trackDead: true
  - type: TacticalMapUser
    actionId: RMCActionOpenTacticalMapMarine
    marines: true
  - type: EmoteCooldown
  - type: FiremanCarriable
  - type: CanFiremanCarry
  - type: RMCSuicide
    damage:
      types:
        Piercing: 100
        Asphyxiation: 200
  - type: RMCUserPryingRequiresTool
  - type: BlockEntityStorage
    whitelist:
      components:
      - CanBeSupplyDropped
  - type: NewPlayerLabel
  - type: MarineMapTracked
  - type: RMCSetPose
  - type: Evasion
  - type: CanBeFirePatted
  - type: FirePatter
    stacks: -10
    blacklist:
      components:
      - Xeno
  - type: RMCPickupDroppedItems
  - type: CommendationReceiver
  - type: RMCSpeciesSlowdownModifier
    slowModifier: 2
    superSlowModifier: 4
  - type: RMCHandEmotes
  - type: RMCBuckleDrawDepth
  - type: RMCObstacleSlamming
  - type: AllowPullWhileDeadAndInfected
  - type: DamageOnPulledWhileCrit
    damage:
      types:
        Asphyxiation: 1.6
    pullerWhitelist:
      components:
      - Xeno # TODO RMC14 not allied xenos
  - type: IgnoreInteractionRange
    whitelist:
      components:
      - OverwatchConsole
      tags:
      - RMCDropshipEnginePoint
    range: 2
  - type: RMCArmorModifier
    meleeArmorModifier: 5
  - type: RMCObstacleSlamCauserImmune
  - type: MobCollision
  - type: RMCMobCollision
  - type: RMCRest
  - type: RMCMeleeDamageSkill
  - type: RMCStripTimeSkill
  - type: RMCDisarm
  - type: RMCDisarmable
  - type: StunOnExplosionReceived
  - type: DeafenWhileCrit
  - type: RMCStopDropRollVisuals
  - type: XenoToggleChargingDamage
    damage:
      types:
        Blunt: 0.25 # TODO RMC14 to the chest only
    armorPiercingDamage:
      types:
        Blunt: 1
    armorPiercing: 13
    defaultMultiplier: 5
    stageMultipliers:
      8: 8
  - type: XenoToggleChargingKnockback
  - type: XenoToggleChargingParalyze
  - type: RMCMobStateDrawDepth
    drawDepths:
      Dead: DeadMobs
  - type: IVDripTarget
  - type: FixedIdentity
    name: rmc-host
    whitelist:
      components:
      - Xeno
  - type: HiddenAppearance
    whitelist:
      components:
      - Xeno
  - type: RMCHealthIcons
  - type: RMCMesonsNonviewable
    xenoVisible: true
