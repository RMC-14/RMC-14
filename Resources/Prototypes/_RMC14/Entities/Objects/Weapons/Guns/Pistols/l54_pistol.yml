- type: entity
  parent: CMWeaponPistolM1984
  id: RMCWeaponPistolL54
  name: L54 service pistol # TSE service pistol - same stats as the M1984
  description: The standard issue semi-automatic service pistol of the TSEPA. Chambered in 9mm, it is comparable to the popular M1984 pistol utilized by the UNMC.
  components:
  - type: Tag
    tags:
    - Sidearm
    - RMCWeaponPistolL54
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Pistols/l54.rsi
  - type: Clothing
    sprite: _RMC14/Objects/Weapons/Guns/Pistols/l54.rsi
  - type: Gun
    soundGunshot:
      path: /Audio/_RMC14/Weapons/Guns/Gunshots/gun_mk80.ogg
  - type: ItemSlots
    slots:
      gun_magazine:
        name: Magazine
        insertSound: /Audio/_RMC14/Weapons/Guns/Reload/gun_mk80_reload.ogg
        ejectSound: /Audio/_RMC14/Weapons/Guns/Reload/gun_mk80_unload.ogg
        priority: 2
        whitelist:
          tags:
          - RMCMagazinePistolL54
        startingItem: RMCMagazinePistolL54

- type: entity
  parent: RMCWeaponPistolL54
  id: RMCWeaponPistolL54Empty
  suffix: Empty
  components:
  - type: ItemSlots
    slots:
      gun_magazine:
        name: Magazine
        insertSound: /Audio/_RMC14/Weapons/Guns/Reload/gun_mk80_reload.ogg
        ejectSound: /Audio/_RMC14/Weapons/Guns/Reload/gun_mk80_unload.ogg
        priority: 2
        whitelist:
          tags:
          - RMCMagazinePistolL54

- type: entity
  parent: RMCWeaponPistolL54
  id: RMCWeaponPistolL54Custom
  name: L54 custom service pistol
  description: The standard-issue semi-automatic sidearm of the TSPA and various military forces within the Three Sun Empire, chambered in 9x20mm. Functionally comparable to the UNMC’s M1984 service pistol, this particular example has been heavily customized—featuring a gold-alloy finish, extended barrel with an integrated compensator, and precision-tuned internals, as well as an auto-eject feature. These modifications push its performance well beyond standard service specifications.
  components:
    - type: Sprite
      sprite: _RMC14/Objects/Weapons/Guns/Pistols/l54_custom.rsi
    - type: Clothing
      sprite: _RMC14/Objects/Weapons/Guns/Pistols/l54_custom.rsi
    - type: RMCWeaponAccuracy
      accuracyMultiplier: 1.5
    - type: GunDamageModifier
      multiplier: 1.25
    - type: ItemSlots
      slots:
        gun_magazine:
          whitelist:
            tags:
              - RMCMagazinePistolL54Custom
          startingItem: RMCMagazinePistolL54Custom
          
- type: entity
  parent: RMCWeaponPistolL54Custom
  id: RMCWeaponPistolL54CustomAlt
  suffix: Alt
  description: The standard-issue semi-automatic sidearm of the TSPA and various military forces within the Three Sun Empire, chambered in 9x20mm. Functionally comparable to the UNMC’s M1984 service pistol, this particular example has been heavily customized—featuring a dark special-alloy finish, extended barrel with an integrated compensator, and precision-tuned internals, as well as an auto-eject feature. These modifications push its performance well beyond standard service specifications
  components:
    - type: Sprite
      sprite: _RMC14/Objects/Weapons/Guns/Pistols/l54_custom_alt.rsi
    - type: Clothing
      sprite: _RMC14/Objects/Weapons/Guns/Pistols/l54_custom_alt.rsi

- type: entity
  parent: CMBaseMagazinePistol
  id: RMCMagazinePistolL54
  name: L54 magazine (9mm)
  components:
  - type: Tag
    tags:
    - CMMagazinePistol
    - RMCMagazinePistolL54
  - type: BallisticAmmoProvider
    mayTransfer: True
    whitelist:
      tags:
      - CMCartridgePistol9mm
    proto: CMCartridgePistol9mm
    capacity: 12
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Magazines/l54.rsi
    layers:
    - state: base
      map: ["enum.GunVisualLayers.Base"]
    - state: mag-1
      map: ["enum.GunVisualLayers.Mag"]
  - type: MagazineVisuals
    magState: mag
    
- type: entity
  parent: CMBaseMagazinePistol
  id: RMCMagazinePistolL54Custom
  name: L54-S magazine (9x20mm)
  components:
    - type: Tag
      tags:
        - CMMagazinePistol
        - RMCMagazinePistolL54Custom
    - type: BallisticAmmoProvider
      mayTransfer: True
      whitelist:
        tags:
          - RMCCartridge9x20mm
      proto: RMCCartridge9x20mm
      capacity: 12
    - type: Sprite
      sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Magazines/l54.rsi
      layers:
        - state: base
          map: ["enum.GunVisualLayers.Base"]
        - state: mag-1
          map: ["enum.GunVisualLayers.Mag"]
    - type: MagazineVisuals
      magState: mag
      
- type: entity
  parent: CMCartridgePistol9mm
  id: RMCCartridge9x20mm
  name: cartridge (9×20mm)
  description: A 9×20mm cartridge for the L54 Custom.
  components:
    - type: Tag
      tags:
        - Cartridge
        - RMCCartridge9x20mm
    - type: CartridgeAmmo
      proto: RMCBullet9x20mm
      
- type: entity
  parent: CMBulletPistol9mm
  id: RMCBullet9x20mm
  categories: [ HideSpawnMenu ]
  components:
    - type: CMArmorPiercing
      amount: 15

- type: Tag
  id: RMCWeaponPistolL54

- type: Tag
  id: RMCMagazinePistolL54
  
- type: Tag
  id: RMCMagazinePistolL54Custom
  
- type: Tag
  id: RMCCartridge9x20mm
  
- type: Tag
  id: RMCBullet9x20mm
