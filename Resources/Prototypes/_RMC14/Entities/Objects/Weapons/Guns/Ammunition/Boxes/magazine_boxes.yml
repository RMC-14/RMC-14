# -- BASE BOX TYPES --
- type: Tag
  id: RMCAmmoBox

# Generic MagBox
- type: entity
  abstract: true
  parent: BaseItem
  id: RMCBoxMagazineBase
  name: "Generic Magazine Box (? x ?)"
  description: "A box of magazines."
  components:
  - type: Item
    size: Huge
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Boxes/magazine_boxes.rsi
  - type: ItemSlots
  - type: Appearance
  - type: DeployableItem
  - type: RMCUnfoldCardboard
    spawns:
    - id: RMCSheetCardboard1
  - type: InteractedBlacklist
    blacklist:
      components:
      - Xeno
  - type: Tag
    tags:
    - RMCAmmoBox

# Rifle Base
- type: entity
  abstract: true
  parent: RMCBoxMagazineBase
  id: RMCBoxMagazineRifleBase
  name: "Generic Rifle Magazine Box (? x ?)"
  description: "A box of rifle magazines."
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Boxes/modular_boxes.rsi
    layers:
    - state: rifle_box # "size"_box - Base Colour
      color: "#ff8888"
    - state: rifle_ammo_full # "size"_ammo_full - Type Colour
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#8888ff"
    - state: rifle_box_54 # "size"_box_"label" - Label Colour
      color: "#88ff88"
    - state: rifle_box_marking # "size"_box_marking - Type Colour
      color: "#8888ff"
    - state: rifle_lid # "size"_lid - Base Colour
      map: [ "lid" ]
      color: "#ff8888"
    - state: rifle_lid_marking # "size"_lid_marking - Type Colour
      map: [ "lid_marking" ]
      color: "#8888ff"
  - type: GenericVisualizer
    visuals:
      enum.DeployableItemVisuals.Deployed:
        lid:
          True: { visible: false }
          False: { visible: true }
        lid_marking:
          True: { visible: false }
          False: { visible: true }
      enum.CMItemSlotsLayers.Fill:
        enum.CMItemSlotsLayers.Fill:
          Empty: { state: rifle_ammo_full, visible: false }
          Low: { state: rifle_ammo_low, visible: true }
          Medium: { state: rifle_ammo_medium, visible: true }
          High: { state: rifle_ammo_high, visible: true }
          Full: { state: rifle_ammo_full, visible: true }

# SMG Base
- type: entity
  abstract: true
  parent: RMCBoxMagazineBase
  id: RMCBoxMagazineSMGBase
  name: "Generic SMG Magazine Box (? x ?)"
  description: "A box of SMG magazines."
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Boxes/modular_boxes.rsi
    layers:
    - state: smg_box
      color: "#ff8888"
    - state: rifle_ammo_full # SMG fits Rifle Ammo States
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#8888ff"
    - state: smg_box_63
      color: "#88ff88"
    - state: smg_box_marking
      color: "#8888ff"
    - state: smg_lid
      map: [ "lid" ]
      color: "#ff8888"
    - state: smg_lid_marking
      map: [ "lid_marking" ]
      color: "#8888ff"
  - type: GenericVisualizer
    visuals:
      enum.DeployableItemVisuals.Deployed:
        lid:
          True: { visible: false }
          False: { visible: true }
        lid_marking:
          True: { visible: false }
          False: { visible: true }
      enum.CMItemSlotsLayers.Fill:
        enum.CMItemSlotsLayers.Fill:
          Empty: { state: rifle_ammo_full, visible: false }
          Low: { state: rifle_ammo_low, visible: true }
          Medium: { state: rifle_ammo_medium, visible: true }
          High: { state: rifle_ammo_high, visible: true }
          Full: { state: rifle_ammo_full, visible: true }

# Pistol Base
- type: entity
  abstract: true
  parent: RMCBoxMagazineBase
  id: RMCBoxMagazinePistolBase
  name: "Generic Pistol Magazine Box (? x ?)"
  description: "A box of pistol magazines."
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Boxes/modular_boxes.rsi
    layers:
    - state: pistol_box
      color: "#7b8246"
    - state: pistol_ammo_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#ffc000"
    - state: pistol_box_80
      color: "#ffcb26"
    - state: pistol_box_marking
      color: "#ffcb26"
    - state: pistol_lid
      map: [ "lid" ]
      color: "#7b8246"
    - state: pistol_lid_marking
      map: [ "lid_marking" ]
      color: "#ffcb26"
  - type: GenericVisualizer
    visuals:
      enum.DeployableItemVisuals.Deployed:
        lid:
          True: { visible: false }
          False: { visible: true }
        lid_marking:
          True: { visible: false }
          False: { visible: true }
      enum.CMItemSlotsLayers.Fill:
        enum.CMItemSlotsLayers.Fill:
          Empty: { state: pistol_ammo_full, visible: false }
          Low: { state: pistol_ammo_low, visible: true }
          Medium: { state: pistol_ammo_medium, visible: true }
          High: { state: pistol_ammo_high, visible: true }
          Full: { state: pistol_ammo_full, visible: true }

# Shells Base
- type: entity
  abstract: true
  parent: RMCBoxMagazineBase
  id: RMCBoxMagazineShellBase
  name: "Generic Shell Bundle Box (? x ?)"
  description: "A box of bundled shells."
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Boxes/modular_boxes.rsi
    layers: # Shell boxes dont use markings
    - state: shell_box
      color: "#944444"
    - state: shell_ammo_full_base
      map: [ "enum.CMItemSlotsLayers.Fill" ]
    - state: shell_ammo_full_base # Second fill state for coloured shells
      map: [ "enum.CMItemSlotsLayers2.Fill" ]
      color: "#ff4444"
    - state: shell_box_buckshot
    - state: shell_lid
      map: [ "lid" ]
      color: "#944444"
  - type: GenericVisualizer
    visuals:
      enum.DeployableItemVisuals.Deployed:
        lid:
          True: { visible: false }
          False: { visible: true }
        lid_marking:
          True: { visible: false }
          False: { visible: true }
      enum.CMItemSlotsLayers.Fill:
        enum.CMItemSlotsLayers.Fill:
          Empty: { state: shell_ammo_full_base, visible: false }
          Low: {state: shell_ammo_low_base, visible: true }
          Medium: {state: shell_ammo_medium_base, visible: true }
          High: {state: shell_ammo_high_base, visible: true }
          Full: {state: shell_ammo_full_base, visible: true }
        enum.CMItemSlotsLayers2.Fill:  # Second fill state for coloured shells
          Empty: { state: shell_ammo_full_color, visible: false }
          Low: { state: shell_ammo_low_color, visible: true }
          Medium: { state: shell_ammo_medium_color, visible: true }
          High: { state: shell_ammo_high_color, visible: true }
          Full: { state: shell_ammo_full_color, visible: true }

# -- RIFLE BOXES --

# M54C REG
- type: entity
  parent: RMCBoxMagazineRifleBase
  id: RMCBoxMagazineRifleM54CEmpty
  name: "Magazine Box (M54C x 10)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMagazineRifleM54CEmpty
  - type: Sprite
    layers:
    - state: rifle_box
      color: "#7b8246"
    - state: rifle_ammo_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#ffc000"
    - state: rifle_box_54
      color: "#ffcb26"
    - state: rifle_box_marking
      color: "#7c4c1b"
    - state: rifle_lid
      map: [ "lid" ]
      color: "#7b8246"
    - state: rifle_lid_marking
      map: [ "lid_marking" ]
      color: "#7c4c1b"
  - type: CMItemSlots
    count: 10
    slot:
      whitelist:
        tags:
        - CMMagazineRifleM54C

- type: entity
  parent: RMCBoxMagazineRifleM54CEmpty
  id: RMCBoxMagazineRifleM54C
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: CMMagazineRifleM54C
    count: 10
    slot:
      whitelist:
        tags:
        - CMMagazineRifleM54C

# M54C AP
- type: entity
  parent: RMCBoxMagazineRifleBase
  id: RMCBoxMagazineRifleM54CAPEmpty
  name: "Magazine Box (AP M54C x 10)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMagazineRifleM54CAPEmpty
  - type: Sprite
    layers:
    - state: rifle_box
      color: "#7b8246"
    - state: rifle_ammo_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#318b11"
    - state: rifle_box_54
      color: "#ffcb26"
    - state: rifle_box_marking
      color: "#318b11"
    - state: rifle_lid
      map: [ "lid" ]
      color: "#7b8246"
    - state: rifle_lid_marking
      map: [ "lid_marking" ]
      color: "#318b11"
  - type: CMItemSlots
    count: 10
    slot:
      whitelist:
        tags:
        - CMMagazineRifleM54CAP

- type: entity
  parent: RMCBoxMagazineRifleM54CAPEmpty
  id: RMCBoxMagazineRifleM54CAP
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: CMMagazineRifleM54CAP
    count: 10
    slot:
      whitelist:
        tags:
        - CMMagazineRifleM54CAP

# M54C EXT
- type: entity
  parent: RMCBoxMagazineRifleBase
  id: RMCBoxMagazineRifleM54CExtEmpty
  name: "Magazine Box (Ext M54C x 8)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMagazineRifleM54CExtEmpty
  - type: Sprite
    layers:
    - state: rifle_box
      color: "#7b8246"
    - state: rifle_ammo_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#ffcb26"
    - state: rifle_box_54
      color: "#ffcb26"
    - state: rifle_box_marking
      color: "#ffcb26"
    - state: rifle_lid
      map: [ "lid" ]
      color: "#7b8246"
    - state: rifle_lid_marking
      map: [ "lid_marking" ]
      color: "#ffcb26"
  - type: CMItemSlots
    count: 8
    slot:
      whitelist:
        tags:
        - CMMagazineRifleM54CExt

- type: entity
  parent: RMCBoxMagazineRifleM54CExtEmpty
  id: RMCBoxMagazineRifleM54CExt
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: CMMagazineRifleM54CExt
    count: 8
    slot:
      whitelist:
        tags:
        - CMMagazineRifleM54CExt

# M4SPR REG
- type: entity
  parent: RMCBoxMagazineRifleBase
  id: RMCBoxMagazineRifleM4SPREmpty
  name: "Magazine Box (M4SPR x 16)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMagazineRifleM4SPREmpty
  - type: Sprite
    layers:
    - state: rifle_box
      color: "#695d42"
    - state: rifle_ammo_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#ffc000"
    - state: rifle_box_spr
      color: "#ffcb26"
    - state: rifle_box_marking
      color: "#7c4c1b"
    - state: rifle_lid
      map: [ "lid" ]
      color: "#695d42"
    - state: rifle_lid_marking
      map: [ "lid_marking" ]
      color: "#7c4c1b"
  - type: CMItemSlots
    count: 16
    slot:
      whitelist:
        tags:
        - CMMagazineRifleM4SPR

- type: entity
  parent: RMCBoxMagazineRifleM4SPREmpty
  id: RMCBoxMagazineRifleM4SPR
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: CMMagazineRifleM4SPR
    count: 16
    slot:
      whitelist:
        tags:
        - CMMagazineRifleM4SPR

# M4SPR AP
- type: entity
  parent: RMCBoxMagazineRifleBase
  id: RMCBoxMagazineRifleM4SPRAPEmpty
  name: "Magazine Box (AP M4SPR x 16)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMagazineRifleM4SPRAPEmpty
  - type: Sprite
    layers:
    - state: rifle_box
      color: "#695d42"
    - state: rifle_ammo_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#318b11"
    - state: rifle_box_spr
      color: "#ffcb26"
    - state: rifle_box_marking
      color: "#318b11"
    - state: rifle_lid
      map: [ "lid" ]
      color: "#695d42"
    - state: rifle_lid_marking
      map: [ "lid_marking" ]
      color: "#318b11"
  - type: CMItemSlots
    count: 16
    slot:
      whitelist:
        tags:
        - CMMagazineRifleM4SPRAP

- type: entity
  parent: RMCBoxMagazineRifleM4SPRAPEmpty
  id: RMCBoxMagazineRifleM4SPRAP
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: CMMagazineRifleM4SPRAP
    count: 16
    slot:
      whitelist:
        tags:
        - CMMagazineRifleM4SPRAP

# M4SPR EXT
- type: entity
  parent: RMCBoxMagazineRifleBase
  id: RMCBoxMagazineRifleM4SPRExtEmpty
  name: "Magazine Box (EXT M4SPR x 12)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMagazineRifleM4SPRExtEmpty
  - type: Sprite
    layers:
    - state: rifle_box
      color: "#695d42"
    - state: rifle_ammo_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#ffcb26"
    - state: rifle_box_spr
      color: "#ffcb26"
    - state: rifle_box_marking
      color: "#ffcb26"
    - state: rifle_lid
      map: [ "lid" ]
      color: "#695d42"
    - state: rifle_lid_marking
      map: [ "lid_marking" ]
      color: "#ffcb26"
  - type: CMItemSlots
    count: 12
    slot:
      whitelist:
        tags:
        - CMMagazineRifleM4SPRExt

- type: entity
  parent: RMCBoxMagazineRifleM4SPRExtEmpty
  id: RMCBoxMagazineRifleM4SPRExt
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: CMMagazineRifleM4SPRExt
    count: 12
    slot:
      whitelist:
        tags:
        - CMMagazineRifleM4SPRExt

# .458 SOCOM
- type: entity
  parent: RMCBoxMagazineRifleBase
  id: RMCBoxBullets458Empty
  name: "Bullet Bundle Box (.458 SOCOM x 297)" # TODO RMC14 this is 297 since its multiples of 9
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxBullets458Empty
  - type: Sprite
    layers:
    - state: rifle_box
      color: "#62757b"
    - state: rifle_ammo_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#719380"
    - state: rifle_box_458
      color: "#ffcb26"
    - state: rifle_box_marking
      color: "#7c4c1b"
    - state: rifle_lid
      map: [ "lid" ]
      color: "#62757b"
    - state: rifle_lid_marking
      map: [ "lid_marking" ]
      color: "#7c4c1b"
  - type: CMItemSlots
    count: 33
    slot:
      whitelist:
        tags:
        - RMCCartridge458SOCOM

- type: entity
  parent: RMCBoxBullets458Empty
  id: RMCBoxBullets458
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: RMCCartridge458SOCOM

# -- SMG BOXES --

# M63 REG
- type: entity
  parent: RMCBoxMagazineSMGBase
  id: RMCBoxMagazineSMGM63Empty
  name: "Magazine Box (M63 x 12)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMagazineSMGM63Empty
  - type: Sprite
    layers:
    - state: smg_box
      color: "#727e90"
    - state: rifle_ammo_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#727e90"
    - state: smg_box_63
      color: "#ffcb26"
    - state: smg_box_marking
      color: "#7c4c1b"
    - state: smg_lid
      map: [ "lid" ]
      color: "#727e90"
    - state: smg_lid_marking
      map: [ "lid_marking" ]
      color: "#7c4c1b"
  - type: CMItemSlots
    count: 12
    slot:
      whitelist:
        tags:
        - CMMagazineSMGM63

- type: entity
  parent: RMCBoxMagazineSMGM63Empty
  id: RMCBoxMagazineSMGM63
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: CMMagazineSMGM63
    count: 12
    slot:
      whitelist:
        tags:
        - CMMagazineSMGM63

# M63 AP
- type: entity
  parent: RMCBoxMagazineSMGBase
  id: RMCBoxMagazineSMGM63APEmpty
  name: "Magazine Box (AP M63 x 12)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMagazineSMGM63APEmpty
  - type: Sprite
    layers:
    - state: smg_box
      color: "#727e90"
    - state: rifle_ammo_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#318b11"
    - state: smg_box_63
      color: "#ffcb26"
    - state: smg_box_marking
      color: "#318b11"
    - state: smg_lid
      map: [ "lid" ]
      color: "#727e90"
    - state: smg_lid_marking
      map: [ "lid_marking" ]
      color: "#318b11"
  - type: CMItemSlots
    count: 12
    slot:
      whitelist:
        tags:
        - CMMagazineSMGM63AP

- type: entity
  parent: RMCBoxMagazineSMGM63APEmpty
  id: RMCBoxMagazineSMGM63AP
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: CMMagazineSMGM63AP
    count: 12
    slot:
      whitelist:
        tags:
        - CMMagazineSMGM63AP

# M63 EXT
- type: entity
  parent: RMCBoxMagazineSMGBase
  id: RMCBoxMagazineSMGM63ExtEmpty
  name: "Magazine Box (Ext M63 x 10)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMagazineSMGM63ExtEmpty
  - type: Sprite
    layers:
    - state: smg_box
      color: "#727e90"
    - state: rifle_ammo_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#727e90"
    - state: smg_box_63
      color: "#ffcb26"
    - state: smg_box_marking
      color: "#ffcb26"
    - state: smg_lid
      map: [ "lid" ]
      color: "#727e90"
    - state: smg_lid_marking
      map: [ "lid_marking" ]
      color: "#ffcb26"
  - type: CMItemSlots
    count: 10
    slot:
      whitelist:
        tags:
        - CMMagazineSMGM63Ext

- type: entity
  parent: RMCBoxMagazineSMGM63ExtEmpty
  id: RMCBoxMagazineSMGM63Ext
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: CMMagazineSMGM63Ext
    count: 10
    slot:
      whitelist:
        tags:
        - CMMagazineSMGM63Ext

# -- PISTOL BOXES --

# M1984 REG
- type: entity
  parent: RMCBoxMagazinePistolBase
  id: RMCBoxMagazinePistolM1984Empty
  name: "Magazine Box (M1984 x 16)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMagazinePistolM1984Empty
  - type: Sprite
    layers:
    - state: pistol_box
      color: "#b2976e"
    - state: pistol_ammo_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#ffc000"
    - state: pistol_box_1984
      color: "#ffcb26"
    - state: pistol_box_marking
      color: "#7c4c1b"
    - state: pistol_lid
      map: [ "lid" ]
      color: "#b2976e"
    - state: pistol_lid_marking
      map: [ "lid_marking" ]
      color: "#7c4c1b"
  - type: CMItemSlots
    count: 16
    slot:
      whitelist:
        tags:
        - CMMagazinePistolM1984

- type: entity
  parent: RMCBoxMagazinePistolM1984Empty
  id: RMCBoxMagazinePistolM1984
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: CMMagazinePistolM1984
    count: 16
    slot:
      whitelist:
        tags:
        - CMMagazinePistolM1984

# M1984 AP
- type: entity
  parent: RMCBoxMagazinePistolBase
  id: RMCBoxMagazinePistolM1984APEmpty
  name: "Magazine Box (AP M1984 x 16)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMagazinePistolM1984APEmpty
  - type: Sprite
    layers:
    - state: pistol_box
      color: "#b2976e"
    - state: pistol_ammo_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#318b11"
    - state: pistol_box_1984
      color: "#ffcb26"
    - state: pistol_box_marking
      color: "#318b11"
    - state: pistol_lid
      map: [ "lid" ]
      color: "#b2976e"
    - state: pistol_lid_marking
      map: [ "lid_marking" ]
      color: "#318b11"
  - type: CMItemSlots
    count: 16
    slot:
      whitelist:
        tags:
        - RMCMagazinePistolM1984AP

- type: entity
  parent: RMCBoxMagazinePistolM1984APEmpty
  id: RMCBoxMagazinePistolM1984AP
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: RMCMagazinePistolM1984AP

# MK80 REG
- type: entity
  parent: RMCBoxMagazinePistolBase
  id:  RMCBoxMagazinePistolMK80Empty
  name: "Magazine Box (MK80 x 16)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMagazinePistolMK80Empty
  - type: Sprite
    layers:
    - state: pistol_box
      color: "#4a4a4a"
    - state: pistol_ammo_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#ffc000"
    - state: pistol_box_80
      color: "#ffcb26"
    - state: pistol_box_marking
      color: "#7c4c1b"
    - state: pistol_lid
      map: [ "lid" ]
      color: "#4a4a4a"
    - state: pistol_lid_marking
      map: [ "lid_marking" ]
      color: "#7c4c1b"
  - type: CMItemSlots
    count: 16
    slot:
      whitelist:
        tags:
        - CMMagazinePistolMK80

- type: entity
  parent: RMCBoxMagazinePistolMK80Empty
  id:  RMCBoxMagazinePistolMK80
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: CMMagazinePistolMK80
    count: 16
    slot:
      whitelist:
        tags:
        - CMMagazinePistolMK80

# SU-6 REG
- type: entity
  parent: RMCBoxMagazinePistolBase
  id: RMCBoxMagazinePistolSU6Empty
  name: "Magazine Box (SU-6 x 16)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMagazinePistolSU6Empty
  - type: Sprite
    layers:
    - state: pistol_box
      color: "#6b5c58"
    - state: pistol_ammo_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#ffc000"
    - state: pistol_box_su
      color: "#ffcb26"
    - state: pistol_box_marking
      color: "#7c4c1b"
    - state: pistol_lid
      map: [ "lid" ]
      color: "#6b5c58"
    - state: pistol_lid_marking
      map: [ "lid_marking" ]
      color: "#7c4c1b"
  - type: CMItemSlots
    count: 16
    slot:
      whitelist:
        tags:
        - RMCMagazinePistolSU6

- type: entity
  parent: RMCBoxMagazinePistolSU6Empty
  id: RMCBoxMagazinePistolSU6
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: RMCMagazinePistolSU6
    count: 16
    slot:
      whitelist:
        tags:
        - RMCMagazinePistolSU6

# M77 AP
- type: entity
  parent: RMCBoxMagazinePistolBase
  id: RMCBoxMagazinePistolM77APEmpty
  name: "Magazine Box (M77 AP x 16)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMagazinePistolM77APEmpty
  - type: Sprite
    layers:
    - state: pistol_box
      color: "#7c7e83"
    - state: pistol_ammo_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#318b11"
    - state: pistol_box_77
      color: "#ffcb26"
    - state: pistol_box_marking
      color: "#318b11"
    - state: pistol_lid
      map: [ "lid" ]
      color: "#7c7e83"
    - state: pistol_lid_marking
      map: [ "lid_marking" ]
      color: "#318b11"
  - type: CMItemSlots
    count: 16
    slot:
      whitelist:
        tags:
        - CMMagazinePistolM77AP

- type: entity
  parent: RMCBoxMagazinePistolM77APEmpty
  id: RMCBoxMagazinePistolM77AP
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: CMMagazinePistolM77AP
    count: 16
    slot:
      whitelist:
        tags:
        - CMMagazinePistolM77AP

# M44 REG
- type: entity
  parent: RMCBoxMagazinePistolBase
  id: RMCBoxMagazineRevolverM44Empty
  name: "Speedloader Box (M44 x 16)"
  description: "A box of pistol speedloaders."
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMagazineRevolverM44Empty
  - type: Sprite
    layers:
    - state: pistol_box
      color: "#727e90"
    - state: pistol_ammo_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#ffc000"
    - state: pistol_box_44
      color: "#ffcb26"
    - state: pistol_box_marking
      color: "#7c4c1b"
    - state: pistol_lid
      map: [ "lid" ]
      color: "#727e90"
    - state: pistol_lid_marking
      map: [ "lid_marking" ]
      color: "#7c4c1b"
  - type: CMItemSlots
    count: 16
    slot:
      whitelist:
        tags:
        - RMCSpeedLoaderM44

- type: entity
  parent: RMCBoxMagazineRevolverM44Empty
  id: RMCBoxMagazineRevolverM44
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: RMCSpeedLoaderM44
    count: 16
    slot:
      whitelist:
        tags:
        - RMCSpeedLoaderM44

# M44 MARK
- type: entity
  parent: RMCBoxMagazinePistolBase
  id: RMCBoxMagazineRevolverM44MarksmanEmpty
  name: "Speedloader Box (Marksman M44 x 16)"
  description: "A box of pistol speedloaders."
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMagazineRevolverM44MarksmanEmpty
  - type: Sprite
    layers:
    - state: pistol_box
      color: "#727e90"
    - state: pistol_ammo_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#d25539"
    - state: pistol_box_44
      color: "#ffcb26"
    - state: pistol_box_marking
      color: "#d25539"
    - state: pistol_lid
      map: [ "lid" ]
      color: "#727e90"
    - state: pistol_lid_marking
      map: [ "lid_marking" ]
      color: "#d25539"
  - type: CMItemSlots
    count: 16
    slot:
      whitelist:
        tags:
        - RMCSpeedLoader44Marksman

- type: entity
  parent: RMCBoxMagazineRevolverM44MarksmanEmpty
  id: RMCBoxMagazineRevolverM44Marksman
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: RMCSpeedLoader44Marksman
    count: 16
    slot:
      whitelist:
        tags:
        - RMCSpeedLoader44Marksman

# -- SHELL BOXES --

# Buckshot
- type: entity
  parent: RMCBoxMagazineShellBase
  id: RMCBoxShellsBuckshotEmpty
  name: "Shell Box (Buckshot x 100)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxShellsBuckshotEmpty
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Boxes/modular_boxes.rsi
    layers:
    - state: shell_box # Main box base sprite
      color: "#944444"
    - state: shell_ammo_full_base # Default full ammo sprite
      map: [ "enum.CMItemSlotsLayers.Fill" ]
    - state: shell_ammo_full_base # Default full ammo sprite
      map: [ "enum.CMItemSlotsLayers2.Fill" ]
      color: "#944444"
    - state: shell_box_buckshot # Type Markings to place over Box
    - state: shell_lid # Lid to match with Box
      map: [ "lid" ]
      color: "#944444"
  - type: CMItemSlots
    count: 20
    slot:
      whitelist:
        tags:
        - RMCShellShotgunBuckshot

- type: entity
  parent: RMCBoxShellsBuckshotEmpty
  id: RMCBoxShellsBuckshot
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: CMShellShotgunBuckshot
    count: 20
    slot:
      whitelist:
        tags:
        - RMCShellShotgunBuckshot

# Slugs
- type: entity
  parent: RMCBoxMagazineShellBase
  id: RMCBoxShellsSlugsEmpty
  name: "Shell Box (Slugs x 100)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxShellsSlugsEmpty
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Boxes/modular_boxes.rsi
    layers:
    - state: shell_box # Main box base sprite
      color: "#578e75"
    - state: shell_ammo_full_base # Default full ammo sprite
      map: [ "enum.CMItemSlotsLayers.Fill" ]
    - state: shell_ammo_full_base # Default full ammo sprite
      map: [ "enum.CMItemSlotsLayers2.Fill" ]
      color: "#578e75"
    - state: shell_box_slugs # Type Markings to place over Box
    - state: shell_lid # Lid to match with Box
      map: [ "lid" ]
      color: "#578e75"
  - type: CMItemSlots
    count: 20
    slot:
      whitelist:
        tags:
        - RMCShellShotgunSlugs

- type: entity
  parent: RMCBoxShellsSlugsEmpty
  id: RMCBoxShellsSlugs
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: CMShellShotgunSlugs
    count: 20
    slot:
      whitelist:
        tags:
        - RMCShellShotgunSlugs

# Flechette
- type: entity
  parent: RMCBoxMagazineShellBase
  id: RMCBoxShellsFlechetteEmpty
  name: "Shell Box (Flechette x 100)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxShellsFlechetteEmpty
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Boxes/modular_boxes.rsi
    layers:
    - state: shell_box # Main box base sprite
      color: "#6551a0"
    - state: shell_ammo_full_base # Default full ammo sprite
      map: [ "enum.CMItemSlotsLayers.Fill" ]
    - state: shell_ammo_full_base # Default full ammo sprite
      map: [ "enum.CMItemSlotsLayers2.Fill" ]
      color: "#6551a0"
    - state: shell_box_flechette # Type Markings to place over Box
    - state: shell_lid # Lid to match with Box
      map: [ "lid" ]
      color: "#6551a0"
  - type: CMItemSlots
    count: 20
    slot:
      whitelist:
        tags:
        - RMCShellShotgunFlechette

- type: entity
  parent: RMCBoxShellsFlechetteEmpty
  id: RMCBoxShellsFlechette
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: CMShellShotgunFlechette
    count: 20
    slot:
      whitelist:
        tags:
        - RMCShellShotgunFlechette

# Breaching Shell
- type: entity
  parent: RMCBoxMagazineShellBase
  id: RMCBoxShellsBreachingEmpty
  name: "Shell Box (Breaching x 120)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxShellsBreachingEmpty
  - type: Sprite
    layers:
    - state: shell_box # Main box base sprite
      color: "#595959"
    - state: shell_ammo_full_base # Default full ammo sprite
      map: [ "enum.CMItemSlotsLayers.Fill" ]
    - state: shell_ammo_full_base # Default full ammo sprite
      map: [ "enum.CMItemSlotsLayers2.Fill" ]
      color: "#595959"
    - state: shell_box_breaching # Type Markings to place over Box
    - state: shell_lid # Lid to match with Box
      map: [ "lid" ]
      color: "#595959"
  - type: CMItemSlots
    count: 20
    slot:
      whitelist:
        tags:
        - RMCShellShotgunBreaching

- type: entity
  parent: RMCBoxShellsBreachingEmpty
  id: RMCBoxShellsBreaching
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: RMCShellShotgunBreaching
    count: 20
    slot:
      whitelist:
        tags:
        - RMCShellShotgunBreaching

# Beanbag Shell
- type: entity
  parent: RMCBoxMagazineShellBase
  id: RMCBoxShellsBeanbagEmpty
  name: "Shell Box (Beanbag x 100)"
  components:
  # - type: Construction
  # graph: RMCBoxMagazine
  # node: RMCBoxShellsBeanbagEmpty
  - type: Sprite
    layers:
    - state: shell_box
      color: "#5786be"
    - state: shell_box_marking
    - state: shell_ammo_full_base
      map: [ "enum.CMItemSlotsLayers.Fill" ]
    - state: shell_ammo_full_base
      map: [ "enum.CMItemSlotsLayers2.Fill" ]
      color: "#5786be"
    - state: shell_box_beanbag
    - state: shell_lid
      map: [ "lid" ]
      color: "#5786be"
    - state: shell_lid_marking
      map: [ "lid_marking" ]
  - type: CMItemSlots
    count: 20
    slot:
      whitelist:
        tags:
        - RMCShellShotgunBeanbag

- type: entity
  parent: RMCBoxShellsBeanbagEmpty
  id: RMCBoxShellsBeanbag
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: CMShellShotgunBeanbag
    count: 20
    slot:
      whitelist:
        tags:
        - RMCShellShotgunBeanbag

# Incendiary Slug
- type: entity
  parent: RMCBoxMagazineShellBase
  id: RMCBoxShellsIncendiaryEmpty
  name: "Shell Box (Incendiary Slug x 100)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxShellsIncendiaryEmpty
  - type: Sprite
    layers:
    - state: shell_box
      color: "#c6cdd3"
    - state: shell_box_marking
      color: "#ffcb26"
    - state: shell_ammo_full_base
      map: [ "enum.CMItemSlotsLayers.Fill" ]
    - state: shell_ammo_full_base
      map: [ "enum.CMItemSlotsLayers2.Fill" ]
      color: "#ffcb26"
    - state: shell_box_incendiary
      color: "#b8533d"
    - state: shell_lid
      map: [ "lid" ]
      color: "#c6cdd3"
    - state: shell_lid_marking
      map: [ "lid_marking" ]
      color: "#ffcb26"
  - type: CMItemSlots
    count: 20
    slot:
      whitelist:
        tags:
        - RMCShellShotgunIncendiary

- type: entity
  parent: RMCBoxShellsIncendiaryEmpty
  id: RMCBoxShellsIncendiary
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: CMShellShotgunIncendiary
    count: 20
    slot:
      whitelist:
        tags:
        - RMCShellShotgunIncendiary

# Incendiary Buckshot
- type: entity
  parent: RMCBoxMagazineShellBase
  id: RMCBoxShellsIncendiaryBuckshotEmpty
  name: "Shell Box (Incendiary Buckshot x 100)"
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxShellsIncendiaryBuckshotEmpty
  - type: Sprite
    layers:
    - state: shell_box
      color: "#c6cdd3"
    - state: shell_box_marking
      color: "#e49331"
    - state: shell_ammo_full_base
      map: [ "enum.CMItemSlotsLayers.Fill" ]
    - state: shell_ammo_full_base
      map: [ "enum.CMItemSlotsLayers2.Fill" ]
      color: "#e49331"
    - state: shell_box_incendiary
      color: "#b8533d"
    - state: shell_lid
      map: [ "lid" ]
      color: "#c6cdd3"
    - state: shell_lid_marking
      map: [ "lid_marking" ]
      color: "#e49331"
  - type: CMItemSlots
    count: 20
    slot:
      whitelist:
        tags:
        - RMCShellShotgunIncendiaryBuckshot

- type: entity
  parent: RMCBoxShellsIncendiaryBuckshotEmpty
  id: RMCBoxShellsIncendiaryBuckshot
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: CMShellShotgunIncendiaryBuckshot
    count: 20
    slot:
      whitelist:
        tags:
        - RMCShellShotgunIncendiaryBuckshot

# -- OTHER -- (Uses original RSI)

# Nailgun
- type: entity
  parent: RMCBoxMagazineBase
  id: RMCBoxMagazineSMGNailgunEmpty
  name: magazine box (Nailgun x 10)
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMagazineSMGNailgunEmpty
  - type: Sprite
    layers:
    - state: base_nailgun_deployed
      map: [ "deployed" ]
      visible: false
    - state: magaz_nailgun
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      visible: false
    - state: base_nailgun
      map: [ "packed" ]
  # The nailgun box sprite isn't structured the same as other sprites, so the visualizer is different.
  - type: GenericVisualizer
    visuals:
      enum.CMItemSlotsLayers.Fill:
        enum.CMItemSlotsLayers.Fill:
          Empty: { state: blank, visible: true }
          Low: { state: magaz_nailgun_1, visible: true }
          Medium: { state: magaz_nailgun_2, visible: true }
          High: { state: magaz_nailgun_3, visible: true }
          Full: { state: magaz_nailgun, visible: true }
      enum.DeployableItemVisuals.Deployed:
        deployed:
          True: { visible: true }
          False: { visible: false }
        enum.CMItemSlotsLayers.Fill:
          True: { visible: true }
          False: { visible: false }
        packed:
          True: { visible: false }
          False: { visible: true }
  - type: CMItemSlots
    count: 10
    slot:
      whitelist:
        tags:
        - RMCMagazineSMGNailgun

- type: entity
  parent: RMCBoxMagazineSMGNailgunEmpty
  id: RMCBoxMagazineSMGNailgun
  suffix: Full
  components:
  - type: CMItemSlots
    startingItem: RMCMagazineSMGNailgun
    count: 10
    slot:
      whitelist:
        tags:
        - RMCMagazineSMGNailgun



# These shells aren't fully implemented yet, so they can't be constructed






  # M16
# M16
- type: entity
  parent: RMCBoxMagazineBase
  id: RMCBoxMagazineRifleM16Empty
  name: magazine box (M16 x 12)
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMagazineRifleM16Empty
  - type: Sprite
    layers:
    - state: base_m16 # icon_state = base color of box
    - state: magaz_reg # overlay_content = sprite of mags
      map: [ "enum.CMItemSlotsLayers.Fill" ]
    - state: text_m16 # overlay_gun_type = text overlay
    - state: base_type_reg # overlay_ammo_type = box stripe
    - state: base_m16_lid # matches the base box
      map: [ "lid" ]
    - state: lid_type_reg # lid stripe,ends in the type of ammo used
      map: [ "lid_marking" ]
  - type: CMItemSlots
    count: 12
    slot:
      whitelist:
        tags:
        - RMCMagazineRifleM16

- type: entity
  parent: RMCBoxMagazineRifleM16Empty
  id: RMCBoxMagazineRifleM16
  suffix: Full
  name: magazine box (M16 x 12)
  components:
  - type: CMItemSlots
    startingItem: RMCMagazineRifleM16
    count: 12
