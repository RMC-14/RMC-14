# Rifles (Empty)

- type: entity
  parent: [ CMBaseWeaponRifle, RMCBaseWeaponMagazineVisuals ]
  id: WeaponRifleL90A1
  name: L90A1
  description: The L90A1 infantry carbine. While lacking in modularity and noticeably less ergonomic than later models, it still packs a punch. Chambered in 7x43mm.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Rifles/l90a1.rsi
    layers:
    - state: base
      map: [ "enum.GunVisualLayers.Base" ]
  - type: ItemMapper
    mapLayers:
      mag-0:
        whitelist:
          tags:
          - RMCMagazineRifleL90
      mag-1:
        whitelist:
          tags:
          - RMCMagazineRifleL90Drum
  - type: Clothing
    sprite: _RMC14/Objects/Weapons/Guns/Rifles/l90a1.rsi
  - type: RMCLoreExaminable
    content: rmc-lore-examinable-l90a1
  - type: Gun
    selectedMode: SemiAuto
    availableModes:
    - SemiAuto
    soundGunshot:
      path: /Audio/_RMC14/Weapons/Guns/Gunshots/gun_l90.ogg
  - type: RMCSelectiveFire
    baseFireModes:
    - SemiAuto
    recoilWielded: 3
    recoilUnwielded: 3
    scatterWielded: 8
    scatterUnwielded: 24
    baseFireRate: 2.5
  - type: RMCWeaponAccuracy
    accuracyMultiplier: 1.2
    accuracyMultiplierUnwielded: 0.8
  - type: MagazineAmmoProvider
    autoEject: false
    soundAutoEject: null
  - type: ItemSlots
    slots:
      gun_magazine:
        name: Magazine
        insertSound: /Audio/_RMC14/Weapons/Guns/Reload/m41_reload.ogg
        ejectSound: /Audio/_RMC14/Weapons/Guns/Reload/m41_unload.ogg
        priority: 2
        whitelist:
          tags:
          - RMCMagazineRifleL90
          - RMCMagazineRifleL90Drum
  - type: GunDamageModifier
    multiplier: 1.1
  - type: AttachableHolder
    slots:
      rmc-aslot-barrel:
        whitelist:
          tags:
          - RMCAttachmentBarrelCharger
          - RMCAttachmentExtendedBarrel
          - RMCAttachmentSuppressor
          - RMCM5Bayonet
          - RMCAttachmentRecoilCompensator
          - RMCAttachmentExtendedCompensator
      rmc-aslot-rail:
        whitelist:
          tags:
          - RMCAttachmentRailFlashlight
          - RMCAttachmentMagneticHarness
  - type: AttachableHolderVisuals
    offsets:
      rmc-aslot-barrel: 0.9, 0.063
      rmc-aslot-rail: -0.07, 0.18

- type: entity
  parent: WeaponRifleL90A1
  id: WeaponRifleL90A2
  name: L90A2
  description: The L90A2 infantry carbine. Highly modular, easy to handle, and hard-hitting, the A2 is widely regarded as a quality rifle by its users. Chambered in 7x43mm.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Rifles/l90a2.rsi
    layers:
    - state: base
      map: [ "enum.GunVisualLayers.Base" ]
  - type: Clothing
    sprite: _RMC14/Objects/Weapons/Guns/Rifles/l90a2.rsi
  - type: RMCLoreExaminable
    content: rmc-lore-examinable-l90a2
  - type: Gun
    selectedMode: FullAuto
    availableModes:
    - SemiAuto
    - FullAuto
    soundGunshot:
      path: /Audio/_RMC14/Weapons/Guns/Gunshots/gun_l90.ogg
  - type: RMCSelectiveFire
    baseFireModes:
    - SemiAuto
    - FullAuto
    recoilWielded: 2.5
    recoilUnwielded: 2.5
    scatterWielded: 6
    scatterUnwielded: 18
    baseFireRate: 4
    burstScatterMult: 0.23
  - type: AttachableHolder
    slots:
      rmc-aslot-barrel:
        whitelist:
          tags:
          - RMCAttachmentBarrelCharger
          - RMCAttachmentExtendedBarrel
          - RMCAttachmentSuppressor
          - RMCM5Bayonet
          - RMCAttachmentRecoilCompensator
          - RMCAttachmentExtendedCompensator
      rmc-aslot-rail:
        whitelist:
          tags:
          - RMCAttachmentRailFlashlight
          - RMCAttachmentMagneticHarness
          - RMCAttachmentS5RedDotSight
          - RMCAttachmentS6ReflexSight
          - RMCAttachmentS84xTelescopicScope
          - RMCAttachmentS42xTelescopicMiniscope
      rmc-aslot-underbarrel:
        startingAttachable: RMCAttachmentL90GL
        whitelist:
          tags:
          - RMCAttachmentAngledGrip
          - RMCAttachmentVerticalGrip
          - RMCAttachmentFlashlightGrip
          - RMCAttachmentGyroscopicStabilizer
          - RMCAttachmentBipod
          - RMCAttachmentExtinguisher
          - RMCAttachmentFlamer
          - RMCAttachmentU7UnderbarrelShotgun
          - RMCAttachmentLaserSight
          - RMCAttachmentL90GL
  - type: AttachableHolderVisuals
    offsets:
      rmc-aslot-barrel: 0.87, 0.063
      rmc-aslot-rail: -0.06, 0.16
      rmc-aslot-underbarrel: 0.38, -0.25

- type: entity
  parent: WeaponRifleL90A2
  id: WeaponRifleL91SWS
  name: L91 SWS
  description: The L91 Support Weapon System features a significantly longer and heavier barrel than the L90. While this makes it more unwieldy, the added length, weight, and durability enable accurate and sustained fire from a stationary position. Chambered in 7x43mm.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Rifles/l91.rsi
    layers:
    - state: base
      map: [ "enum.GunVisualLayers.Base" ]
  - type: ItemMapper
    mapLayers:
      mag-0:
        whitelist:
          tags:
          - RMCMagazineRifleL90
      mag-1:
        whitelist:
          tags:
          - RMCMagazineRifleL90Drum
  - type: Clothing
    sprite: _RMC14/Objects/Weapons/Guns/Rifles/L91.rsi
  - type: RMCLoreExaminable
    content: rmc-lore-examinable-l91
  - type: Gun
    selectedMode: SemiAuto
    availableModes:
    - SemiAuto
    - FullAuto
    soundGunshot:
      path: /Audio/_RMC14/Weapons/Guns/Gunshots/gun_l90.ogg
  - type: RMCSelectiveFire
    baseFireModes:
    - SemiAuto
    - FullAuto
    recoilWielded: 3
    recoilUnwielded: 4.5
    scatterWielded: 4
    scatterUnwielded: 16
    baseFireRate: 2
    burstScatterMult: 1.54
    modifiers:
      FullAuto:
        fireDelay: -0.25
        maxScatterModifier: 10.4
        useBurstScatterMult: true
        unwieldedScatterMultiplier: 2
        shotsToMaxScatter: 3
  - type: RMCWeaponAccuracy
    accuracyMultiplier: 1.5
    accuracyMultiplierUnwielded: 0.75
  - type: RMCWeaponDamageFalloff
    falloffMultiplier: 0
  - type: MagazineAmmoProvider
    autoEject: false
    soundAutoEject: null
  - type: ItemSlots
    slots:
      gun_magazine:
        name: Magazine
        insertSound: /Audio/_RMC14/Weapons/Guns/Reload/m41_reload.ogg
        ejectSound: /Audio/_RMC14/Weapons/Guns/Reload/m41_unload.ogg
        priority: 2
        whitelist:
          tags:
          - RMCMagazineRifleL90
          - RMCMagazineRifleL90Drum
  - type: GunDamageModifier
    multiplier: 1.4
  - type: GunRequiresWield
  - type: AttachableHolder
    slots:
      rmc-aslot-barrel:
        whitelist:
          tags:
          - RMCAttachmentBarrelCharger
          - RMCAttachmentRecoilCompensator
          - RMCAttachmentExtendedBarrel
          - RMCAttachmentExtendedCompensator
          - RMCAttachmentSuppressor
      rmc-aslot-rail:
        whitelist:
          tags:
          - RMCAttachmentRailFlashlight
          - RMCAttachmentMagneticHarness
          - RMCAttachmentS5RedDotSight
          - RMCAttachmentS6ReflexSight
          - RMCAttachmentS84xTelescopicScope
          - RMCAttachmentS42xTelescopicMiniscope
          - RMCAttachmentSASOS
      rmc-aslot-underbarrel:
        locked: true
        startingAttachable: RMCAttachmentL91Bipod
        whitelist:
          tags:
          - RMCAttachmentL91Bipod
  - type: AttachableHolderVisuals
    offsets:
      rmc-aslot-barrel: 1.12, 0.063
      rmc-aslot-rail: -0.03, 0.16
      rmc-aslot-underbarrel: 0.69, -0.20

# Rifles (Filled)

- type: entity
  parent: WeaponRifleL90A1
  id: WeaponRifleL90A1Filled
  suffix: Filled
  components:
  - type: ItemSlots
    slots:
      gun_magazine:
        name: Magazine
        startingItem: RMCMagazineRifleL90
        insertSound: /Audio/_RMC14/Weapons/Guns/Reload/m41_reload.ogg
        ejectSound: /Audio/_RMC14/Weapons/Guns/Reload/m41_unload.ogg
        priority: 2
        whitelist:
          tags:
          - RMCMagazineRifleL90
          - RMCMagazineRifleL90Drum
  - type: AttachableHolder
    slots:
      rmc-aslot-barrel:
        startingAttachable: RMCTantoA
        whitelist:
          tags:
          - RMCAttachmentBarrelCharger
          - RMCAttachmentExtendedBarrel
          - RMCAttachmentSuppressor
          - RMCM5Bayonet
          - RMCAttachmentRecoilCompensator
          - RMCAttachmentExtendedCompensator
      rmc-aslot-rail:
        whitelist:
          tags:
          - RMCAttachmentRailFlashlight
          - RMCAttachmentMagneticHarness
  - type: AttachableHolderVisuals
    offsets:
      rmc-aslot-barrel: 0.9, 0.063
      rmc-aslot-rail: -0.07, 0.18

- type: entity
  parent: WeaponRifleL90A2
  id: WeaponRifleL90A2Filled
  suffix: Filled
  components:
  - type: ItemSlots
    slots:
      gun_magazine:
        name: Magazine
        startingItem: RMCMagazineRifleL90
        insertSound: /Audio/_RMC14/Weapons/Guns/Reload/m41_reload.ogg
        ejectSound: /Audio/_RMC14/Weapons/Guns/Reload/m41_unload.ogg
        priority: 2
        whitelist:
          tags:
          - RMCMagazineRifleL90
          - RMCMagazineRifleL90Drum
  - type: AttachableHolder
    slots:
      rmc-aslot-barrel:
        startingAttachable: RMCTantoA
        whitelist:
          tags:
          - RMCAttachmentBarrelCharger
          - RMCAttachmentExtendedBarrel
          - RMCAttachmentSuppressor
          - RMCM5Bayonet
          - RMCAttachmentRecoilCompensator
          - RMCAttachmentExtendedCompensator
      rmc-aslot-rail:
        whitelist:
          tags:
          - RMCAttachmentRailFlashlight
          - RMCAttachmentMagneticHarness
          - RMCAttachmentS5RedDotSight
          - RMCAttachmentS6ReflexSight
          - RMCAttachmentS84xTelescopicScope
          - RMCAttachmentS42xTelescopicMiniscope
      rmc-aslot-underbarrel:
        startingAttachable: RMCAttachmentL90GL
        whitelist:
          tags:
          - RMCAttachmentAngledGrip
          - RMCAttachmentVerticalGrip
          - RMCAttachmentFlashlightGrip
          - RMCAttachmentGyroscopicStabilizer
          - RMCAttachmentBipod
          - RMCAttachmentExtinguisher
          - RMCAttachmentFlamer
          - RMCAttachmentU7UnderbarrelShotgun
          - RMCAttachmentLaserSight
          - RMCAttachmentL90GL
  - type: AttachableHolderVisuals
    offsets:
      rmc-aslot-barrel: 0.87, 0.063
      rmc-aslot-rail: -0.06, 0.16
      rmc-aslot-underbarrel: 0.38, -0.25

- type: entity
  parent: WeaponRifleL91SWS
  id: WeaponRifleL91SWSFilled
  suffix: Filled
  components:
  - type: ItemSlots
    slots:
      gun_magazine:
        name: Magazine
        startingItem: RMCMagazineRifleL90
        insertSound: /Audio/_RMC14/Weapons/Guns/Reload/m41_reload.ogg
        ejectSound: /Audio/_RMC14/Weapons/Guns/Reload/m41_unload.ogg
        priority: 2
        whitelist:
          tags:
          - RMCMagazineRifleL90
          - RMCMagazineRifleL90Drum
  - type: AttachableHolder
    slots:
      rmc-aslot-barrel:
        startingAttachable: RMCAttachmentSuppressor
        whitelist:
          tags:
          - RMCAttachmentBarrelCharger
          - RMCAttachmentRecoilCompensator
          - RMCAttachmentExtendedBarrel
          - RMCAttachmentExtendedCompensator
          - RMCAttachmentSuppressor
      rmc-aslot-rail:
        startingAttachable: RMCAttachmentSASOS
        whitelist:
          tags:
          - RMCAttachmentRailFlashlight
          - RMCAttachmentMagneticHarness
          - RMCAttachmentS5RedDotSight
          - RMCAttachmentS6ReflexSight
          - RMCAttachmentS84xTelescopicScope
          - RMCAttachmentS42xTelescopicMiniscope
          - RMCAttachmentSASOS
      rmc-aslot-underbarrel:
        locked: true
        startingAttachable: RMCAttachmentL91Bipod
        whitelist:
          tags:
          - RMCAttachmentL91Bipod
  - type: AttachableHolderVisuals
    offsets:
      rmc-aslot-barrel: 1.12, 0.063
      rmc-aslot-rail: -0.03, 0.16
      rmc-aslot-underbarrel: 0.69, -0.20

# Attachments

- type: entity
  parent: [ RMCUnderAttachmentBase, RMCAttachableToggleableBase ]
  id: RMCAttachmentL91Bipod
  name: "L91 SWS integrated bipod"
  description: "You shouldn't be seeing this."
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Attachments/rmc_under.rsi
    state: bipod-l91
  - type: Tag
    tags:
    - RMCAttachmentUnderbarrel
    - RMCAttachmentL91Bipod
  - type: AttachableToggleable
    heldOnlyActivate: true
    userOnly: true
    doInterrupt: true
    attachedOnly: true
    breakOnMove: true
    breakOnFullRotate: true
    breakOnDrop: true
    slowOnBreak: true
    doAfter: 1.5
    deactivateDoAfter: 0
    doAfterNeedHand: false
    instantToggle: Brace
    useDelay: 0.5
    activatePopupText: attachable-popup-activate-deploy-on-ground
    deactivatePopupText: attachable-popup-deactivate-retract
    activateSound:
      path: /Audio/_RMC14/Attachable/bipod_toggle.ogg
      params:
        volume: -3
    deactivateSound:
      path: /Audio/_RMC14/Attachable/bipod_toggle.ogg
      params:
        volume: -3
    icon:
      sprite: _RMC14/Objects/Weapons/Guns/Attachments/rmc_under.rsi
      state: bipod-l91
    iconActive:
      sprite: _RMC14/Objects/Weapons/Guns/Attachments/rmc_under.rsi
      state: bipod-l91-on
    actionName: Deploy Bipod
    actionDesc: Deploy the bipod and get into a firing position.
  - type: AttachableVisuals
    showActive: true
  - type: AttachableTemporarySpeedMods
    alteration: Interrupted
  - type: AttachableSizeMods
    modifiers:
    - size: 2
  - type: AttachableWieldDelayMods
    modifiers:
    - delay: 0.2
  - type: AttachableWeaponRangedMods
    modifiers:
    - conditions:
        wieldedOnly: true
        activeOnly: true
      accuracyAddMult: 0.25
      burstScatterAddMult: -1.16
      scatterFlat: -4

- type: entity
  parent: RMCAttachmentU1GrenadeLauncher
  id: RMCAttachmentL90GL
  name: L90U3 grenade launcher
  description: A grenade launcher designed specifically for L90 pattern rifles. Holds three 30mm grenades.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Attachments/rmc_under.rsi
    layers:
    - state: grenade-l90
      map: [ "enum.BreechVisuals.Open" ]
  - type: OnShootTriggerAmmoTimer
    delay: 1
    beepInterval: 2
    initialBeepDelay: 0
    beepSound:
      path: "/Audio/Effects/beep1.ogg"
      params:
        volume: 5
  - type: GenericVisualizer
    visuals:
      enum.BreechVisuals.Open:
        enum.BreechVisuals.Open:
          True: { state: grenade-l90-open }
          False: { state: grenade-l90 }
  - type: AttachableToggleable
    userOnly: true
    attachedOnly: true
    supercedeHolder: true
    wieldedUseOnly: true
    activatePopupText: attachable-popup-switch-to-generic
    deactivatePopupText: attachable-popup-switch-from-generic
    actionName: Switch to the L90U3 Grenade Launcher
    actionDesc: Switch to using the underbarrel grenade launcher.
    icon:
      sprite: _RMC14/Objects/Weapons/Guns/Attachments/rmc_under.rsi
      state: grenade-l90
    iconActive:
      sprite: _RMC14/Objects/Weapons/Guns/Attachments/rmc_under.rsi
      state: grenade-l90-on
  - type: Tag
    tags:
    - RMCAttachmentUnderbarrel
    - RMCAttachmentL90GL

- type: entity
  parent: RMCAttachmentScopeBase
  id: RMCAttachmentSASOS
  name: L91O1 SASOS
  description: The TSE-produced Small Arms Smart Optical Sight, or SASOS, is an experimental, next-gen IFF-enabling optic designed for use as part of the L91 Support Weapon System.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Attachments/rmc_rail.rsi
    state: sasos
  - type: RMCLoreExaminable
    content: rmc-lore-examinable-sasos
  - type: AttachableVisuals
  - type: AttachableToggleable
    breakOnMove: false
    icon:
      sprite: _RMC14/Objects/Weapons/Guns/Attachments/rmc_rail.rsi
      state: sasos
    actionName: Look through SASOS
    actionDesc: Lets you see further and shoot through your fellow marines without harming them.
  - type: AttachableToggleableSimpleActivate
  - type: Scope
    zoomLevels:
    - zoom: 1
      offset: 13
      allowMovement: true
      doAfter: 0
  - type: AttachableSpeedMods
    modifiers:
    - conditions:
        activeOnly: true
      walk: -0.31
      sprint: -0.448
  - type: AttachableWieldDelayMods
    modifiers:
    - delay: 0.5
  - type: AttachableIFF
  - type: AttachableWeaponRangedMods
    modifiers:
    - damageAddMult: -0.2
    - conditions:
        inactiveOnly: true
      accuracyAddMult: -0.2
  - type: Tag
    tags:
    - RMCAttachmentRail
    - RMCAttachmentSASOS

# Magazines

- type: entity
  parent: CMMagazineRifleBase
  id: RMCMagazineRifleL90
  name: L90 Magazine (7x43mm)
  description: "A magazine of 7x43mm rounds for use in L90 pattern rifles."
  components:
  - type: Tag
    tags:
    - CMMagazineRifle
    - RMCMagazineRifleL90
  - type: BallisticAmmoProvider
    mayTransfer: True
    whitelist:
      tags:
      - RMCCartridgeRifleL90
    proto: RMCCartridgeRifleL90
    capacity: 30
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Magazines/l90.rsi
    layers:
    - state: base
      map: ["enum.GunVisualLayers.Base"]
    - state: mag-1
      map: ["enum.GunVisualLayers.Mag"]
  - type: Appearance

- type: entity
  parent: RMCMagazineRifleL90
  id: RMCMagazineRifleL90Drum
  description: "A drum magazine of 7x43mm rounds for use in L90 pattern rifles."
  name: L90 Drum Magazine (7x43mm)
  suffix: Drum
  components:
  - type: Tag
    tags:
    - CMMagazineRifle
    - RMCMagazineRifleL90Drum
  - type: BallisticAmmoProvider
    whitelist:
      tags:
      - RMCCartridgeRifleL90
    proto: RMCCartridgeRifleL90
    capacity: 60
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Magazines/l90drum.rsi
    layers:
    - state: base
      map: [ "enum.GunVisualLayers.Base" ]
    - state: mag-1
      map: [ "enum.GunVisualLayers.Mag" ]
  - type: Appearance

- type: entity
  parent: RMCMagazineRifleL90
  id: RMCMagazineRifleL90AP
  description: "A magazine of armor-piercing 7x43mm rounds for use in L90 pattern rifles."
  name: L90 AP Magazine (7x43mm)
  suffix: AP
  components:
  - type: Tag
    tags:
    - CMMagazineRifle
    - RMCMagazineRifleL90
    - RMCMagazineRifleL90AP
  - type: BallisticAmmoProvider
    whitelist:
      tags:
      - RMCCartridgeRifleL90AP
    proto: RMCCartridgeRifleL90AP
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Magazines/l90.rsi
    layers:
    - state: base
      map: [ "enum.GunVisualLayers.Base" ]
    - state: mag-1
      map: [ "enum.GunVisualLayers.Mag" ]
    - state: ammo_band
      color: "#1F951F"
  - type: Appearance

- type: entity
  parent: RMCMagazineRifleL90AP
  id: RMCMagazineRifleL90DrumAP
  description: "A drum magazine of armor-piercing 7x43mm rounds for use in L90 pattern rifles."
  name: L90 AP Drum Magazine (7x43mm)
  suffix: Drum, AP
  components:
  - type: Tag
    tags:
    - CMMagazineRifle
    - RMCMagazineRifleL90Drum
    - RMCMagazineRifleL90DrumAP
  - type: BallisticAmmoProvider
    whitelist:
      tags:
      - RMCCartridgeRifleL90AP
    proto: RMCCartridgeRifleL90AP
    capacity: 60
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Magazines/l90drum.rsi
    layers:
    - state: base
      map: [ "enum.GunVisualLayers.Base" ]
    - state: mag-1
      map: [ "enum.GunVisualLayers.Mag" ]
    - state: ammo_band
      color: "#1F951F"
  - type: Appearance

- type: entity
  parent: RMCMagazineRifleL90
  id: RMCMagazineRifleL90HEAP
  description: "A magazine of HEAP 7x43mm rounds for use in L90 pattern rifles."
  name: L90 HEAP Magazine (7x43mm)
  suffix: HEAP
  components:
  - type: Tag
    tags:
    - CMMagazineRifle
    - RMCMagazineRifleL90
    - RMCMagazineRifleL90HEAP
  - type: BallisticAmmoProvider
    whitelist:
      tags:
      - RMCCartridgeRifleL90HEAP
    proto: RMCCartridgeRifleL90HEAP
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Magazines/l90.rsi
    layers:
    - state: base
      map: [ "enum.GunVisualLayers.Base" ]
    - state: mag-1
      map: [ "enum.GunVisualLayers.Mag" ]
    - state: ammo_band
      color: "#9C9A19"
  - type: Appearance

- type: entity
  parent: RMCMagazineRifleL90AP
  id: RMCMagazineRifleL90DrumHEAP
  description: "A drum magazine of HEAP 7x43mm rounds for use in L90 pattern rifles."
  name: L90 HEAP Drum Magazine (7x43mm)
  suffix: Drum, HEAP
  components:
  - type: Tag
    tags:
    - CMMagazineRifle
    - RMCMagazineRifleL90Drum
    - RMCMagazineRifleL90DrumHEAP
  - type: BallisticAmmoProvider
    whitelist:
      tags:
      - RMCCartridgeRifleL90HEAP
    proto: RMCCartridgeRifleL90HEAP
    capacity: 60
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Magazines/l90drum.rsi
    layers:
    - state: base
      map: [ "enum.GunVisualLayers.Base" ]
    - state: mag-1
      map: [ "enum.GunVisualLayers.Mag" ]
    - state: ammo_band
      color: "#9C9A19"
  - type: Appearance

- type: entity
  parent: RMCMagazineRifleL90
  id: RMCMagazineRifleL90Incendiary
  description: "A magazine of incendiary 7x43mm rounds for use in L90 pattern rifles."
  name: L90 Incendiary Magazine (7x43mm)
  suffix: Incendiary
  components:
  - type: Tag
    tags:
    - CMMagazineRifle
    - RMCMagazineRifleL90
    - RMCMagazineRifleL90Incendiary
  - type: BallisticAmmoProvider
    whitelist:
      tags:
      - RMCCartridgeRifleL90Incendiary
    proto: RMCCartridgeRifleL90Incendiary
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Magazines/l90.rsi
    layers:
    - state: base
      map: [ "enum.GunVisualLayers.Base" ]
    - state: mag-1
      map: [ "enum.GunVisualLayers.Mag" ]
    - state: ammo_band
      color: "#771A10"
  - type: Appearance

- type: entity
  parent: RMCMagazineRifleL90Incendiary
  id: RMCMagazineRifleL90DrumIncendiary
  description: "A drum magazine of incendiary 7x43mm rounds for use in L90 pattern rifles."
  name: L90 Incendiary Drum Magazine (7x43mm)
  suffix: Drum, Incendiary
  components:
  - type: Tag
    tags:
    - CMMagazineRifle
    - RMCMagazineRifleL90Drum
    - RMCMagazineRifleL90DrumIncendiary
  - type: BallisticAmmoProvider
    whitelist:
      tags:
      - RMCCartridgeRifleL90Incendiary
    proto: RMCCartridgeRifleL90Incendiary
    capacity: 60
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Magazines/l90drum.rsi
    layers:
    - state: base
      map: [ "enum.GunVisualLayers.Base" ]
    - state: mag-1
      map: [ "enum.GunVisualLayers.Mag" ]
    - state: ammo_band
      color: "#771A10"
  - type: Appearance

# Cartridges

- type: entity
  parent: CMBaseCartridgeRifle
  id: RMCCartridgeRifleL90
  name: Cartridge (7x43mm)
  description: A 7x43mm rifle cartridge designed for L90 pattern rifles.
  components:
  - type: Tag
    tags:
    - Cartridge
    - RMCCartridgeRifleL90
  - type: CartridgeAmmo
    proto: BulletRifle7x43mm

- type: entity
  parent: RMCBaseBullet
  id: BulletRifle7x43mm
  categories: [ HideSpawnMenu ]
  components:
  - type: Projectile
    damage:
      types:
        Piercing: 50
  - type: RMCProjectileDamageFalloff
    thresholds:
    - range: 30
      falloff: 9999
      ignoreModifiers: true
    - range: 10
      falloff: 4
  - type: CMArmorPiercing
    amount: 10
  - type: RMCProjectileAccuracy
    accuracy: 120
    thresholds:
    - range: 20
      falloff: 10

- type: entity
  parent: CMBaseCartridgeRifle
  id: RMCCartridgeRifleL90AP
  name: AP Cartridge (7x43mm)
  description: A 7x43mm AP rifle cartridge designed for L90 pattern rifles.
  components:
  - type: Tag
    tags:
    - Cartridge
    - RMCCartridgeRifleL90AP
  - type: CartridgeAmmo
    proto: BulletRifle7x43mmAP

- type: entity
  parent: BulletRifle7x43mm
  id: BulletRifle7x43mmAP
  categories: [ HideSpawnMenu ]
  components:
  - type: Projectile
    damage:
      types:
        Piercing: 35
  - type: CMArmorPiercing
    amount: 40

- type: entity
  parent: CMBaseCartridgeRifle
  id: RMCCartridgeRifleL90HEAP
  name: HEAP Cartridge (7x43mm)
  description: A 7x43mm HEAP rifle cartridge designed for L90 pattern rifles.
  components:
  - type: Tag
    tags:
    - Cartridge
    - RMCCartridgeRifleL90HEAP
  - type: CartridgeAmmo
    proto: BulletRifle7x43mmHEAP

- type: entity
  parent: BulletRifle7x43mm
  id: BulletRifle7x43mmHEAP
  components:
  - type: Projectile
    damage:
      types:
        Piercing: 70
  - type: CMArmorPiercing
    amount: 50

- type: entity
  parent: CMBaseCartridgeRifle
  id: RMCCartridgeRifleL90Incendiary
  name: Incendiary Cartridge (7x43mm)
  description: A 7x43mm incendiary rifle cartridge designed for L90 pattern rifles.
  components:
  - type: Tag
    tags:
    - Cartridge
    - RMCCartridgeRifleL90Incendiary
  - type: CartridgeAmmo
    proto: BulletRifle7x43mmIncendiary

- type: entity
  parent: BulletRifle7x43mm
  id: BulletRifle7x43mmIncendiary
  components:
  - type: Projectile
    damage:
       types:
          Piercing: 30
  - type: IgniteOnProjectileHit

# Tags

- type: Tag
  id: RMCAttachmentL90GL

- type: Tag
  id: RMCAttachmentL91Bipod

- type: Tag
  id: RMCAttachmentSASOS

- type: Tag
  id: RMCMagazineRifleL90

- type: Tag
  id: RMCMagazineRifleL90AP

- type: Tag
  id: RMCMagazineRifleL90HEAP

- type: Tag
  id: RMCMagazineRifleL90Incendiary

- type: Tag
  id: RMCMagazineRifleL90Drum

- type: Tag
  id: RMCMagazineRifleL90DrumAP

- type: Tag
  id: RMCMagazineRifleL90DrumHEAP

- type: Tag
  id: RMCMagazineRifleL90DrumIncendiary

- type: Tag
  id: RMCCartridgeRifleL90

- type: Tag
  id: RMCCartridgeRifleL90AP

- type: Tag
  id: RMCCartridgeRifleL90HEAP

- type: Tag
  id: RMCCartridgeRifleL90Incendiary
