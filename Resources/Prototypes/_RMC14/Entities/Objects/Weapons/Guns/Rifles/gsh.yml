- type: entity
  parent: CMBaseWeaponRifle
  id: RMCRotaryMG
  name: GSh-7.62 rotary machine gun
  description: A gas-operated rotary machine gun used by UPP heavies. Its enormous volume of fire and ammunition capacity allows the suppression of large concentrations of enemy forces. Heavy weapons training is required to control its recoil. 
  components:
  - type: GunRequiresWield
  - type: Corrodible
    isCorrodible: false
  - type: WieldDelay
    baseDelay: 0.4
  - type: WieldableSpeedModifiers
    baseWalk: 0.696
    baseSprint: 0.559
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Rifles/gsh.rsi
    layers:
    - state: base
      map: [ "enum.GunVisualLayers.Base" ]
    - state: mag-0
      map: [ "enum.GunVisualLayers.Mag" ]
  - type: Clothing
    sprite: _RMC14/Objects/Weapons/Guns/Rifles/gsh.rsi
  - type: MeleeWeapon
    damage:
      types:
        Blunt: 20
  - type: Gun
    selectedMode: FullAuto
    availableModes:
    - FullAuto
    soundGunshot:
      path: /Audio/_RMC14/Weapons/Guns/Gunshots/gun_ml66a.ogg
    soundEmpty:
      path: /Audio/Weapons/Guns/Empty/lmg_empty.ogg
  - type: RMCSelectiveFire
    baseFireModes:
    - FullAuto
    recoilWielded: 3
    scatterWielded: 10
    baseFireRate: 6
    burstScatterMult: 4
    modifiers:
      FullAuto:
        maxScatterModifier: 4
        useBurstScatterMult: true
        unwieldedScatterMultiplier: 2
        shotsToMaxScatter: 80
  - type: ContainerContainer
    containers:
      gun_magazine: !type:ContainerSlot
      gun_chamber: !type:ContainerSlot
  - type: ItemSlots
    slots:
      gun_magazine:
        name: Magazine
        startingItem: RMCMagazineGSH
        insertSound: /Audio/_RMC14/Weapons/Guns/Reload/gun_sg_reload.ogg
        ejectSound: /Audio/_RMC14/Weapons/Guns/Reload/gun_sg_unload.ogg
        priority: 2
        whitelist:
          tags:
          - RMCMagazineGSH
  - type: GunDamageModifier
    multiplier: 1
  - type: RMCMagneticItem
  - type: GunRequiresSkills
    skills:
      RMCSkillSmartGun: 1
  - type: GunSkilledRecoil
    skills:
      RMCSkillFirearms: 100
  - type: GunRequireEquipped
    whitelist:
      components:
      - SmartGunArmor
  - type: AttachableHolder
    slots:
      rmc-aslot-rail:
        whitelist:
          tags:
          - RMCAttachmentRailFlashlight
  - type: AttachableHolderVisuals
    offsets:
      rmc-aslot-rail: -0.1875, 0.125

- type: entity
  parent: CMMagazineRifleBase
  id: RMCMagazineGSH
  name: "Rotating Ammo Drum (7.62x51mm)"
  components:
  - type: Tag
    tags:
    - RMCMagazineGSH
  - type: BallisticAmmoProvider
    whitelist:
      tags:
      - CMCartridgeGSH762x51mm
    proto: CMCartridgeGSH762x51mm
    capacity: 300
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Magazines/gsh.rsi
    layers:
    - state: base
      map: ["enum.GunVisualLayers.Base"]
    - state: mag-1
      map: ["enum.GunVisualLayers.Mag"]
  - type: Clothing
    slots:
    - suitStorage

- type: entity
  parent: CMBaseCartridgeRifle
  id: CMCartridgeGSH762x51mm
  name: cartridge (7.62x51mm)
  components:
  - type: Sprite
    sprite: Objects/Weapons/Guns/Ammunition/Casings/large_casing.rsi
    layers:
    - state: base
      map: ["enum.AmmoVisualLayers.Base"]
  - type: CartridgeAmmo
    proto: CMBulletGSH762x51mm
  - type: Tag
    tags:
    - CMCartridgeGSH762x51mm

- type: entity
  parent: CMBulletBase
  id: CMBulletGSH762x51mm
  name: bullet (7.62x51mm)
  noSpawn: true
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Weapons/Guns/Ammunition/Projectiles/bullet_projectiles.rsi
    layers:
    - state: bullet
      shader: unshaded
  - type: Projectile
    damage:
      types:
        Piercing: 35
  - type: RMCProjectileDamageFalloff
    thresholds:
    - range: 22
      falloff: 9999
      ignoreModifiers: true
    - range: 1
      falloff: 1
  - type: CMArmorPiercing
    amount: 30

- type: Tag
  id: RMCMagazineGSH

- type: Tag
  id: CMCartridgeGSH762x51mm
