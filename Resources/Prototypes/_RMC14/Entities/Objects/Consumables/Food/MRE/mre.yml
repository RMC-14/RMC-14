- type: Tag
  id: MRE

- type: entity
  parent: BaseStorageItem
  id: CMMRE
  name: We-Ya brand ration pack
  description: "A more or less cohesive ration, intended for colonist and corporate security, packed with a medium quality foods with a long shelf life.\nOn the box is the Weston-Yamada logo, with a slogan surrounding it:\nWESTON-YAMADA. FEEDING BETTER WORLDS."
  components:
  - type: Tag
    tags:
    - MRE
  - type: Sprite
    sprite: _RMC14/Objects/Consumable/Food/mre.rsi
    state: closed
  - type: Item
    size: Small
  - type: Storage
    grid:
    - 0,0,13,1
    maxItemSize: Small
    whitelist:
      components:
      - MREItem
  - type: Openable
    sound:
      collection: CMFoodRip
  - type: Appearance
  - type: GenericVisualizer
    visuals:
      enum.OpenableVisuals.Opened:
        enum.OpenableVisuals.Layer:
          True: { state: "open" }
          False: { state: "closed" }
  - type: StorageFill
    contents:
    - id: CMMREComponentBonelessPorkRibs
      orGroup: main
    - id: CMMREComponentGrilledChicken
      orGroup: main
    - id: CMMREComponentPizzaSquare
      orGroup: main
    - id: CMMREComponentSpaghettiChunks
      orGroup: main
    - id: CMMREComponentChickenTender
      orGroup: main
    - id: CMMREComponentCracker
      orGroup: side
    - id: CMMREComponentRiceOnigiri
      orGroup: side
    - id: CMMREComponentMashedPotatoes
      orGroup: side
    - id: CMMREComponentRisotto
      orGroup: side
    - id: CMMREComponentBiscuit
      orGroup: snack
    - id: CMMREComponentMeatballs
      orGroup: snack
    - id: RMCMREComponentMeatzels
      orGroup: snack
    - id: CMMREComponentPretzels
      orGroup: snack
    - id: CMMREComponentPeanuts
      orGroup: snack
    - id: CMMREComponentSushi
      orGroup: snack
    - id: CMMREComponentBiscuit
      orGroup: dessert
    - id: CMMREComponentChocolateBrownie
      orGroup: dessert
    - id: CMMREComponentSugarCookie
      orGroup: dessert
    - id: CMMREComponentCocoBar
      orGroup: dessert
    - id: CMMREComponentFlan
      orGroup: dessert
    - id: CMMREComponentHoneyFlan
      orGroup: dessert
    - id: CMDrinkWEYAWaterBottle30
    - id: CMFortuneCookie
      prob: 0.333
    - id: CMCigarettePackLuckySlothsMini
    - id: CMMatchBook
      orGroup: matchbook
    - id: CMBrownMatchBook
      orGroup: matchbook
    - id: CMExecutiveSelectMatchbook
      orGroup: matchbook
    - id: CMElectroMatchbook
      orGroup: matchbook
    - id: CMExecutiveWEYAMatchbook
      orGroup: matchbook
  - type: FixedItemSizeStorage
  - type: RemoveOnlyStorage
  - type: InteractedBlacklist
    blacklist:
      components:
      - Xeno

- type: entity
  parent: CMMRE
  id: RMCMRESPP # TODO RMC14 - Custom Contents
  name: SPP IRP ration pack
  description: An Individual Meal Ration, mainly composed of a selection of canned food, despite being heavier, it has proven to be a lot more reliable.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Consumable/Food/mre_spp.rsi

- type: entity
  parent: CMMRE
  id: RMCMREWeYa # TODO RMC14 - Custom Contents
  name: PMC CFR ration
  description: A Combat Field Ration. Uses similar to UNMC MRE format, but utilizes expensive preserving materials and methods and not less expensive foods, not much different from going to a restaurant. Eating better worlds.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Consumable/Food/mre_weya.rsi

- type: entity
  parent: CMMRE
  id: RMCMRETSE # TODO RMC14 - Custom Contents
  name: TWE ORP ration
  description: An Operation Ration Pack. Uses similar to UNMC MRE format, but utilizes expensive preserving materials and methods and not less expensive meals from TSE cuisine.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Consumable/Food/mre_tse.rsi

- type: entity
  parent: BaseItem
  id: RMCMRECLF
  name: wrapped makeshift meal
  description: Some home cooked or salvaged meal, you do what you must within your capabilities.
  components:
  - type: Tag
    tags:
    - MRE
  - type: Item
    size: Small
  - type: SpawnItemsOnUse
    items:
    - id: RMCMREFoodMeatSlab
      orGroup: RMCMRECLFFood
    - id: RMCMREFoodMeatSlabCheese
      orGroup: RMCMRECLFFood
    - id: RMCMREFoodBread
      orGroup: RMCMRECLFFood
    - id: RMCMREFoodMargaritaPizza
      orGroup: RMCMRECLFFood
    sound:
      collection: CMFoodRip
  - type: Sprite
    sprite: _RMC14/Objects/Consumable/Food/mre_clf.rsi
    state: closed
  - type: InteractedBlacklist
    blacklist:
      components:
      - Xeno

- type: entity
  abstract: true
  parent: BaseItem
  id: CMMREComponentBase
  name: MRE component
  description: A package from a Meal Ready-to-Eat, property of the Marines. Contains a part of a meal, prepared for field consumption.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Consumable/Food/mre_components.rsi
  - type: Item
    size: Small
  - type: SpawnItemsOnUse
    sound:
      collection: CMFoodRip
  - type: MREItem

- type: entity
  abstract: true
  parent: CMFoodBase
  id: CMMREFoodBase
  description: The contents of a Marine Standard issue MRE.
  components:
  - type: Sprite
    sprite: _RMC14/Objects/Consumable/Food/mre_contents.rsi
  - type: Item
    size: Small
  - type: MREItem

# SPP survival bar

- type: entity
  parent: BaseItem
  id: RMCSurvivalRationSPP
  name: SPP survival ration
  description: A small compressed package containing a single portion of food you cannot distinguish.
  components:
  - type: RMCLoreExaminable
    content: rmc-lore-examinable-spp-survival-ration
  - type: Tag
    tags:
    - MRE
  - type: Item
    size: Tiny
  - type: SpawnItemsOnUse
    items:
    - id: RMCMRESPPSurvivalRationTypeA
      orGroup: main
    - id: RMCMRESPPSurvivalRationTypeB
      orGroup: main
    sound:
      collection: CMFoodRip
  - type: Sprite
    sprite: _RMC14/Objects/Consumable/Food/mre_components.rsi
    state: spp_ration
  - type: InteractedBlacklist
    blacklist:
      components:
      - Xeno

- type: entity
  parent: RMCBoxMagazineSupplySmallBase
  id: RMCBoxMREEmpty
  name: box of MREs (x12)
  description: A box of MREs. Nutritious, but not delicious.
  components:
  - type: Construction
    graph: RMCBoxMagazine
    node: RMCBoxMREEmpty
  - type: ItemSlots
  - type: CMItemSlots
    count: 12
    slot:
      name: MRE
      whitelist:
        tags:
        - MRE
  - type: Sprite
    layers:
    - state: supply_box_small
      color: "#b59471"
    - state: supply_ammo_small_full
      map: [ "enum.CMItemSlotsLayers.Fill" ]
      color: "#a69571"
    - state: supply_box_small_food
      color: "#b59471"
    - state: supply_lid_small_closed
      map: [ "lid" ]
      color: "#b59471"
    - state: supply_lid_small_closed_marking
      map: [ "lid_marking" ]
      color: "#b59471"

- type: entity
  parent: RMCBoxMREEmpty
  id: RMCBoxMRE
  suffix: Filled
  components:
  - type: CMItemSlots
    startingItem: CMMRE
