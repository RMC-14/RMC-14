- type: entity
  abstract: true
  parent: BaseStructure
  id: RMCTentBase
  name: UNMC field tent
  description: A standard UNMC Tent. This one is just a general purpose version. Unfold in a suitable location for micro-FOB vibes. ComTech not included. ENTRANCE TO THE SOUTH.
  placement:
    mode: SnapgridCenter
    snap:
    - Wall
  components:
  - type: Transform
    anchored: true
    noRot: true
  - type: Sprite
    sprite: _RMC14/Objects/Tents/deployed_tents.rsi
    offset: 1,0
    drawdepth: OverMobs
    layers:
    - state: standard_frame
    - state: standard_canvas
      map: [ "enum.ItemCamouflageLayers.Layer" ]
    - state: standard_roof
      map: [ "enum.ItemCamouflageLayers.Layer2", "standard_roof" ]
  - type: InteractionTransparency
  - type: RMCSpriteFade
    targetAlpha: 0.0
    changeRate: 6.0
    reactToMouse: false
    fadeLayers:
    - "standard_roof"
  - type: ItemCamouflage
    colors:
      Jungle: "#9a9839"
      Desert: "#ffd2a6"
      Snow: "#ddcbc9"
      Classic: "#c7e7d9"
      Urban: "#acb8c7"
  - type: Corrodible
    isCorrodible: false
  - type: Appearance
  - type: Fixtures
    fixtures:
      fix1: # Left Wall
        shape:
          !type:PhysShapeAabb
          bounds: "-1.5,-2.5,-1.4,1"
        density: 20000
        hard: true
        mask:
        - FullTileMask
        layer:
        - HighImpassable
        - MidImpassable
        - LowImpassable
        - Opaque
      fix-2: # Right Wall
        shape:
          !type:PhysShapeAabb
          bounds: "0.4,-2.5,0.5,1"
        density: 20000
        hard: true
        mask:
        - FullTileMask
        layer:
        - HighImpassable
        - MidImpassable
        - LowImpassable
        - Opaque
      fix-3: # Back Wall
        shape:
          !type:PhysShapeAabb
          bounds: "-1.5,0.4,0.5,1.5"
        density: 20000
        hard: true
        mask:
        - FullTileMask
        layer:
        - HighImpassable
        - MidImpassable
        - LowImpassable
        - Opaque
  - type: CollisionWake
    enabled: false
  - type: Damageable
    maxHealth: 200
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 200
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:DoActsBehavior
        acts: [ "Destruction" ]


# Standard Tents
- type: entity
  parent: RMCTentBase
  id: RMCTentUNMCStandard
  suffix: For Mapping Only

- type: entity
  parent: RMCTentBase
  id: RMCTentUNMCStandardCommand
  suffix: For Mapping Only
  name: USCM Command Tent
  description: A standard USCM Command Tent. This one comes equipped with a self-powered Overwatch Console and a Telephone. Unfold in a suitable location to maximize usefulness. Staff Officer not included. ENTRANCE TO THE SOUTH.
  components:
  - type: Sprite
    layers:
    - state: standard_frame
    - state: standard_canvas
      map: [ "enum.ItemCamouflageLayers.Layer" ]
    - state: standard_roof
      map: [ "enum.ItemCamouflageLayers.Layer2", "standard_roof" ]
    - state: cmd_standard_canvas

- type: entity
  parent: RMCTentBase
  id: RMCTentUNMCStandardMedical
  suffix: For Mapping Only
  name: USCM Medical Tent
  description: A standard USCM Medical Tent. This one comes equipped with advanced field surgery facilities. Unfold in a suitable location to maximize health gains. Surgical Tray not included. ENTRANCE TO THE SOUTH.
  components:
  - type: Sprite
    layers:
    - state: standard_frame
    - state: standard_canvas
      map: [ "enum.ItemCamouflageLayers.Layer" ]
    - state: standard_roof
      map: [ "enum.ItemCamouflageLayers.Layer2", "standard_roof" ]
    - state: med_standard_canvas
    - state: med_standard_roof
      map: [ "med_standard_roof" ]
  - type: RMCSpriteFade
    fadeLayers:
    - "standard_roof"
    - "med_standard_roof"


# Standard Extended
- type: entity
  parent: RMCTentBase
  id: RMCTentUNMCExtended
  suffix: For Mapping Only
  name: UNMC extended field tent
  description: A standard UNMC Tent. This one is just an extended general purpose version. Unfold in a suitable location for mega FOB vibes. Mess Tech not included. ENTRANCE TO THE SOUTH.
  components:
  - type: Sprite
    layers:
    - state: standard_frame
    - state: standard_canvas
      map: [ "enum.ItemCamouflageLayers.Layer" ]
    - state: extension_frame
    - state: extension_canvas
      map: [ "enum.ItemCamouflageLayers.Layer2" ]
    - state: standard_roof
      map: [ "enum.ItemCamouflageLayers.Layer3", "standard_roof" ]
    - state: extension_roof
      map: [ "enum.ItemCamouflageLayers.Layer4", "extension_roof" ]
  - type: RMCSpriteFade
    targetAlpha: 0.0
    changeRate: 6.0
    reactToMouse: false
    fadeLayers:
    - "standard_roof"
    - "extension_roof"
  - type: Fixtures
    fixtures:
      fix1: # Left Wall
        shape:
          !type:PhysShapeAabb
          bounds: "-1.5,-2.5,-1.4,1"
        density: 20000
        hard: true
        mask:
        - FullTileMask
        layer:
        - HighImpassable
        - MidImpassable
        - LowImpassable
        - Opaque
      fix-2: # Lower Right Wall
        shape:
          !type:PhysShapeAabb
          bounds: "0.4,-2.5,0.5,-1.5"
        density: 20000
        hard: true
        mask:
        - FullTileMask
        layer:
        - HighImpassable
        - MidImpassable
        - LowImpassable
        - Opaque
      fix-3: # Back Wall
        shape:
          !type:PhysShapeAabb
          bounds: "-1.5,0.4,2.5,1.5"
        density: 20000
        hard: true
        mask:
        - FullTileMask
        layer:
        - HighImpassable
        - MidImpassable
        - LowImpassable
        - Opaque
      fix-4: # Upper Right Wall
        shape:
          !type:PhysShapeAabb
          bounds: "2.4,-1.5,2.5,1"
        density: 20000
        hard: true
        mask:
        - FullTileMask
        layer:
        - HighImpassable
        - MidImpassable
        - LowImpassable
        - Opaque
      fix-5: # Front Wall
        shape:
          !type:PhysShapeAabb
          bounds: "0.4,-1.4,2.5,-1.5"
        density: 20000
        hard: true
        mask:
        - FullTileMask
        layer:
        - HighImpassable
        - MidImpassable
        - LowImpassable
        - Opaque



- type: entity
  parent: BaseItem
  id: RMCTentUNMCStandardCommandFolded
  name: Folded USCM Command Tent
  description: A standard USCM Command Tent. This one comes equipped with a self-powered Overwatch Console and a Telephone. Unfold in a suitable location to maximize usefulness. Staff Officer not included. ENTRANCE TO THE SOUTH.
  components:
    - type: Sprite
      sprite: _RMC14/Objects/Tents/folded_tents.rsi
      layers:
        - state: base_tent
        - state: cmd_base
    - type: RMCDeployable
      # As an example all fields are listed here even if their values match the default value
      deployTime: 10
      collapseTime: 10
      deployArea:
        !type:PhysShapeAabb
        bounds: "-0.4,0.6,1.4,4.4" # The non-perfect rectangle allows the tent to be placed close to the walls
      collapseToolPrototype: CMEntrenchingTool
      areaBlockedCheck: true
      failIfNotSurface: false
      deploySetups:
        - prototype: RMCTentUNMCStandardCommand
          NeverRedeployableSetup: false
          mode: ReactiveParental
          anchor: true
          offset: 0.2, 0
          angle: 0
        - prototype: CMTable
          NeverRedeployableSetup: false
          mode: Default
          anchor: true
          offset: -0.5, 0.5
          angle: 0
        - prototype: CMTable
          NeverRedeployableSetup: false
          mode: Default
          anchor: true
          offset: 0.5, 0.5
          angle: 0
        - prototype: RMCOverwatchConsoleRotating
          NeverRedeployableSetup: false
          mode: Reactive
          anchor: true
          offset: -0.5, 0.5
          angle: 0
        - prototype: RMCRotaryPhone
          NeverRedeployableSetup: false
          mode: Reactive
          anchor: true
          offset: 0.5, 0.5
          angle: 0
        - prototype: CMChair
          NeverRedeployableSetup: false
          mode: Default
          anchor: true
          offset: -0.5, -0.5
          angle: 180
        - prototype: CMChair
          NeverRedeployableSetup: false
          mode: Default
          anchor: true
          offset: 0.5, -0.5
          angle: 180


- type: entity
  parent: BaseItem
  id: RMCTentUNMCStandardMedicalFolded # TODO RMC14: Bonus to speed up operations and reduce pain
  name: Folded USCM Command Tent
  description: A standard USCM Command Tent. This one comes equipped with a self-powered Overwatch Console and a Telephone. Unfold in a suitable location to maximize usefulness. Staff Officer not included. ENTRANCE TO THE SOUTH.
  components:
    - type: Sprite
      sprite: _RMC14/Objects/Tents/folded_tents.rsi
      layers:
        - state: base_tent
        - state: med_base
    - type: RMCDeployable
      # As an example all fields are listed here even if their values match the default value
      deployTime: 10
      collapseTime: 10
      deployArea:
        !type:PhysShapeAabb
        bounds: "-0.4,0.6,1.4,4.4" # The non-perfect rectangle allows the tent to be placed close to the walls
      collapseToolPrototype: CMEntrenchingTool
      areaBlockedCheck: true
      failIfNotSurface: false
      deploySetups:
        - prototype: RMCTentUNMCStandardMedical
          NeverRedeployableSetup: false
          mode: ReactiveParental
          anchor: true
          offset: 0.2, 0
          angle: 0
        - prototype: ColMarTechMarineMedical
          NeverRedeployableSetup: false
          mode: Reactive
          anchor: true
          offset: -0.5, 0.5
          angle: 0
        - prototype: CMIV
          NeverRedeployableSetup: true
          mode: Default
          anchor: false
          offset: 0.5, 0.5
          angle: 0
        - prototype: CMRollerBed
          NeverRedeployableSetup: true
          mode: Default
          anchor: false
          offset: 0.5, -0.5
          angle: 0
